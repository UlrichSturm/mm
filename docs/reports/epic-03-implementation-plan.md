# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π Epic 3 (100% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å)

**–î–∞—Ç–∞:** 2025-12-03
**–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞:** –û—Ç–≤–µ—Ç–∞—Ö –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤ `epic-03-questions-for-100-percent.md`

---

## üìã –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–±–ª–æ–∫–∏—Ä—É—é—Ç 100%)

1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏** (US-018)
2. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è search query** (US-014)
3. ‚úÖ **Endpoint `/services/client/my`** –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

### üü° –í–∞–∂–Ω—ã–µ (—É–ª—É—á—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ)

4. ‚úÖ **categoryId –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
5. ‚úÖ **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞** –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —É—Å–ª—É–≥–∏ (vendor –ø–æ–ª—è)
6. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** (URL —Ñ–æ—Ä–º–∞—Ç, –º–∞–∫—Å–∏–º—É–º 5)
7. ‚úÖ **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** –≤ –∫–∞—Ç–∞–ª–æ–≥–µ (sortBy –ø–∞—Ä–∞–º–µ—Ç—Ä)
8. ‚úÖ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π limit = 10** –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
9. ‚úÖ **–û–±–Ω–æ–≤–∏—Ç—å US-013** —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ minPrice/maxPrice
10. ‚úÖ **Prisma schema** - onDelete: Restrict –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

---

## üîß –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ (US-018)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –ê–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã: `PENDING`, `CONFIRMED`, `IN_PROGRESS`, `IN_DELIVERY`, `NEED_PAY`, `REFUNDED`
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ `OrderItem` —Å `serviceId` –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ `Order` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º –∞–∫—Ç–∏–≤–Ω—ã–º
- –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã ‚Üí 400 Bad Request
- Admin –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º

**–§–∞–π–ª—ã:**

- `apps/server/src/services/services.service.ts` - –º–µ—Ç–æ–¥ `delete()`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ `IN_DELIVERY` –∏ `NEED_PAY` –≤ OrderStatus enum. –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤–∏—Ç—å.

---

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è search query (US-014)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è search
- –ü—É—Å—Ç–æ–π search - –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (–Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ Service (–ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏)
- HTTP 400 Bad Request –µ—Å–ª–∏ < 2 —Å–∏–º–≤–æ–ª–æ–≤

**–§–∞–π–ª—ã:**

- `apps/server/src/services/services.service.ts` - –º–µ—Ç–æ–¥ `findAll()`

---

### 3. Endpoint `/services/client/my` –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π endpoint `GET /services/client/my`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–µ —É—Å–ª—É–≥–∏)
- –î–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è CLIENT —Ä–æ–ª–∏

**–§–∞–π–ª—ã:**

- `apps/server/src/services/services.controller.ts`
- `apps/server/src/services/services.service.ts` - –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ `getMyOrders()`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –¥—Ä—É–≥–æ–º –º–æ–¥—É–ª–µ (Orders), –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞.

---

### 4. categoryId –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –£–±—Ä–∞—Ç—å `@IsOptional()` –∏–∑ `CreateServiceDto`
- –î–æ–±–∞–≤–∏—Ç—å `@IsNotEmpty()` –≤–∞–ª–∏–¥–∞—Ü–∏—é
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∞–∫—Ç–∏–≤–Ω–∞ (`isActive: true`)

**–§–∞–π–ª—ã:**

- `apps/server/src/services/dto/create-service.dto.ts`
- `apps/server/src/services/dto/update-service.dto.ts`
- `apps/server/src/services/services.service.ts` - –º–µ—Ç–æ–¥—ã `create()` –∏ `update()`

---

### 5. –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —É—Å–ª—É–≥–∏

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞: `businessName`, `rating`, `reviewCount`, `contactPhone`, `address`, `description`, `contactEmail`
- –î–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞: –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–§–∞–π–ª—ã:**

- `apps/server/src/services/services.service.ts` - –º–µ—Ç–æ–¥ `formatServiceResponse()`
- `apps/server/src/services/services.service.ts` - –º–µ—Ç–æ–¥ `findOne()` (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞)

---

### 6. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–∏—Ç—å `@IsUrl()` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞ `images`
- –ú–∞–∫—Å–∏–º—É–º 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: `@ArrayMaxSize(5)`

**–§–∞–π–ª—ã:**

- `apps/server/src/services/dto/create-service.dto.ts`
- `apps/server/src/services/dto/update-service.dto.ts`

---

### 7. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–∏—Ç—å query –ø–∞—Ä–∞–º–µ—Ç—Ä `sortBy` —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏:
  - `createdAt` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, desc)
  - `price_asc`, `price_desc`
  - `name_asc`, `name_desc`
  - `rating_asc`, `rating_desc`

**–§–∞–π–ª—ã:**

- `apps/server/src/services/services.controller.ts` - –¥–æ–±–∞–≤–∏—Ç—å `@Query('sortBy')`
- `apps/server/src/services/services.service.ts` - –º–µ—Ç–æ–¥ `findAll()` - –ª–æ–≥–∏–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

---

### 8. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π limit = 10

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –ò–∑–º–µ–Ω–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π limit —Å 50 –Ω–∞ 10
- –í–∞–ª–∏–¥–∞—Ü–∏—è: –µ—Å–ª–∏ limit > 10, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ 10

**–§–∞–π–ª—ã:**

- `apps/server/src/services/services.service.ts` - –º–µ—Ç–æ–¥ `findAll()`

---

### 9. –û–±–Ω–æ–≤–∏—Ç—å US-013 —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ minPrice/maxPrice

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ `minPrice` –∏ `maxPrice` –≤ US-013

**–§–∞–π–ª—ã:**

- `docs/user-stories/backend/epic-03-services/US-013-services-catalog.md`

---

### 10. Prisma schema - onDelete: Restrict –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

- –ò–∑–º–µ–Ω–∏—Ç—å `onDelete: SetNull` –Ω–∞ `onDelete: Restrict` –¥–ª—è —Å–≤—è–∑–∏ Service-Category
- –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –µ—Å–ª–∏ –µ—Å—Ç—å —É—Å–ª—É–≥–∏

**–§–∞–π–ª—ã:**

- `apps/server/prisma/schema.prisma`
- –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

---

## üìù –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –û–±–Ω–æ–≤–∏—Ç—å Prisma schema (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã)
2. –û–±–Ω–æ–≤–∏—Ç—å DTOs (categoryId, images, –≤–∞–ª–∏–¥–∞—Ü–∏—è)
3. –û–±–Ω–æ–≤–∏—Ç—å ServicesService (–≤—Å–µ –º–µ—Ç–æ–¥—ã)
4. –û–±–Ω–æ–≤–∏—Ç—å ServicesController (–Ω–æ–≤—ã–µ endpoints, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
5. –û–±–Ω–æ–≤–∏—Ç—å User Stories
6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **OrderStatus enum:** –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `IN_DELIVERY` –∏ `NEED_PAY`. –ï—Å–ª–∏ –∏—Ö –Ω–µ—Ç - –¥–æ–±–∞–≤–∏—Ç—å –≤ enum –∏ —Å–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é.

2. **Endpoint `/services/client/my`:** –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –º–æ–¥—É–ª–µ Orders, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤ Services. –í–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Epic 5.

3. **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–ª—è Admin:** –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É—Å–ª—É–≥–∏ Admin'–æ–º.

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] –í—Å–µ –≤–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] User Stories –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
