# –î–æ—Å—Ç—É–ø–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–î–∞—Ç–∞:** 2025-12-03
**–°—Ç–∞—Ç—É—Å:** üìã **–°–ü–†–ê–í–û–ß–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø**

---

## üìã –í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–æ–≥–ª–∞—Å–Ω–æ `docs/TEST_CREDENTIALS.md`, –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

### üîë –û–±—â–∏–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

**–ü–∞—Ä–æ–ª—å:** `password123`

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üë§ Admin Account

| Email                | Password    | Role  |
| -------------------- | ----------- | ----- |
| admin@mementomori.de | password123 | ADMIN |

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º endpoints
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–∫–∞–∑–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤

---

## üë• Client Accounts

| Email            | Password    | Name          |
| ---------------- | ----------- | ------------- |
| client1@test.com | password123 | Hans Mueller  |
| client2@test.com | password123 | Anna Schmidt  |
| client3@test.com | password123 | Klaus Weber   |
| client4@test.com | password123 | Maria Fischer |

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤ (`GET /api/orders/my`)
- –û—Ç–º–µ–Ω–∞ PENDING –∑–∞–∫–∞–∑–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ notes –∏ scheduledDate —Å–≤–æ–∏—Ö –∑–∞–∫–∞–∑–æ–≤

---

## üè¢ Vendor Accounts

### Approved Vendors (–æ–¥–æ–±—Ä–µ–Ω–Ω—ã–µ)

| Email            | Password    | Business Name            | Category         |
| ---------------- | ----------- | ------------------------ | ---------------- |
| vendor1@test.com | password123 | Bestattungen Becker GmbH | Funeral Services |
| vendor2@test.com | password123 | Hoffmann Blumen & Kr√§nze | Flowers          |
| vendor3@test.com | password123 | Wolf Transport Services  | Transportation   |

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å–≤–æ–∏ —É—Å–ª—É–≥–∏ (`GET /api/orders/vendor`)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤ (`PATCH /api/orders/:id/status`)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏

### Pending Vendors (–æ–∂–∏–¥–∞—é—â–∏–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è)

| Email            | Password    | Business Name                 |
| ---------------- | ----------- | ----------------------------- |
| vendor4@test.com | password123 | Koch Steinmetz Meisterbetrieb |

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (–Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —É—Å–ª—É–≥–∏ –¥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è)

---

## ‚öñÔ∏è Lawyer / Notary Accounts

| Email            | Password    | Organization              | Type   |
| ---------------- | ----------- | ------------------------- | ------ |
| lawyer1@test.com | password123 | Kanzlei Richter & Partner | LAWYER |
| notary1@test.com | password123 | Notariat Braun            | NOTARY |

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏
- –†–∞–±–æ—Ç–∞ —Å –∑–∞–≤–µ—â–∞–Ω–∏—è–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –≤ Keycloak

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `TEST_CREDENTIALS.md` —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Å–ª–µ seed)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ **–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –≤ Keycloak** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Keycloak:
   ```bash
   node scripts/setup-keycloak.js
   ```

2. –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Keycloak Admin Console:
   - –û—Ç–∫—Ä—ã—Ç—å: http://localhost:8080
   - –õ–æ–≥–∏–Ω: `admin` / `admin`
   - Realm: `memento-mori`
   - –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ email –∏ –ø–∞—Ä–æ–ª—è–º–∏

### 2. Seed —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –≤ –ë–î

**–í–∞–∂–Ω–æ:**
- `npm run db:seed` —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç–æ–ª—å–∫–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ **–Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ Keycloak**
- –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Keycloak –æ—Ç–¥–µ–ª—å–Ω–æ

### 3. Keycloak Client Secret

**–¢—Ä–µ–±—É–µ—Ç—Å—è:**
- `KEYCLOAK_CLIENT_SECRET` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `.env`
- –ü–æ–ª—É—á–∏—Ç—å –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ Keycloak Admin Console –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üß™ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ API

```bash
curl -X POST http://localhost:3001/api/auth/login \
  -H 'Content-Type: application/json' \
  -d '{
    "username": "client1@test.com",
    "password": "password123"
  }'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "access_token": "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJ...",
  "refresh_token": "...",
  "expires_in": 300,
  "token_type": "Bearer"
}
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ Swagger UI

1. –û—Ç–∫—Ä—ã—Ç—å Swagger UI: http://localhost:3001/api/docs
2. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **"Authorize"** (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞)
3. –í—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ –ø–æ–ª–µ `Value`
4. –ù–∞–∂–∞—Ç—å **"Authorize"**
5. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å endpoints

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ curl

```bash
TOKEN="your-access-token-here"

curl -X GET http://localhost:3001/api/orders/my \
  -H "Authorization: Bearer $TOKEN"
```

---

## üìä –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ seed

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `npm run db:seed` –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

- **1** Admin user
- **4** Client users
- **4** Vendor users (3 approved, 1 pending)
- **2** Lawyer/Notary users
- **7** Service categories
- **12** Services (–æ—Ç –æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö vendors)
- **6** Orders (—Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏)
- **~2-3** Completed payments

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Keycloak

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Keycloak
node scripts/setup-keycloak.js
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
- –°–æ–∑–¥–∞–µ—Ç realm `memento-mori`
- –°–æ–∑–¥–∞–µ—Ç client `memento-mori-api`
- –°–æ–∑–¥–∞–µ—Ç —Ä–æ–ª–∏ (client, vendor, lawyer_notary, admin)
- –°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—ã–≤–æ–¥–∏—Ç `KEYCLOAK_CLIENT_SECRET`

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å Client Secret –≤ .env

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ apps/server/.env
KEYCLOAK_CLIENT_SECRET=<secret-from-script-output>
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å seed —Å–∫—Ä–∏–ø—Ç

```bash
cd apps/server
npm run db:seed
```

### –®–∞–≥ 4: –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
curl -X POST http://localhost:3001/api/auth/login \
  -H 'Content-Type: application/json' \
  -d '{"username":"client1@test.com","password":"password123"}'
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Keycloak

```bash
curl http://localhost:8080/realms/memento-mori/.well-known/openid-configuration
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ë–î

```bash
# –ß–µ—Ä–µ–∑ Prisma Studio
cd apps/server
npm run db:studio
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ Keycloak

1. –û—Ç–∫—Ä—ã—Ç—å Keycloak Admin Console: http://localhost:8080
2. –õ–æ–≥–∏–Ω: `admin` / `admin`
3. –í—ã–±—Ä–∞—Ç—å realm: `memento-mori`
4. –ü–µ—Ä–µ–π—Ç–∏ –≤ **Users**

---

## üìù –†–µ–∑—é–º–µ

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- ‚úÖ –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞—Ä–æ–ª—å: `password123`
- ‚úÖ Email –∞–¥—Ä–µ—Å–∞ —É–∫–∞–∑–∞–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö –≤—ã—à–µ
- ‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –≤ Keycloak –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤

**–î–ª—è –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Keycloak (—Å–∫—Ä–∏–ø—Ç –∏–ª–∏ –≤—Ä—É—á–Ω—É—é)
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å seed —Å–∫—Ä–∏–ø—Ç
3. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `POST /api/auth/login`
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ Swagger UI –∏–ª–∏ curl

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-03

