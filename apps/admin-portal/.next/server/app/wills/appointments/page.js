(()=>{var e={};e.id=943,e.ids=[943],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(4945),s(3490),s(5866);var n=s(3191),a=s(8716),r=s(7922),i=s.n(r),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["wills",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4945)),"/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/wills/appointments/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3490)),"/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/wills/appointments/page.tsx"],u="/wills/appointments/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/wills/appointments/page",pathname:"/wills/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8523:(e,t,s)=>{Promise.resolve().then(s.bind(s,5232))},5232:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var n=s(326),a=s(7577),r=s(3561),i=s(5329),l=s(3717),o=s(9175),c=s(434),d=s(6774),u=s(9094),p=s(3726),m=s(6953),f=s(8216),x=s(7415),h=s(4774),y=s(9971),g=s(4039);let v={PENDING:"Pending",CONFIRMED:"Confirmed",COMPLETED:"Completed",CANCELLED:"Cancelled"};function b(){let e=(0,g.T_)("nav"),t=(0,g.T_)("common"),s=(0,g.T_)("appointments"),[b,j]=(0,a.useState)([]),[N,w]=(0,a.useState)(!0),[C,k]=(0,a.useState)(null),[E,D]=(0,a.useState)({}),[A,P]=(0,a.useState)(""),S=async()=>{try{w(!0),k(null);let e=await r.M.getAllAppointments(E);j(e)}catch(e){k(e.message||"Failed to load appointments"),console.error("[Appointments] Failed to load appointments:",e)}finally{w(!1)}},z=()=>{D(e=>({...e,search:A||void 0}))},L=e=>{D(t=>({...t,status:e}))};return N?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-gray-500",children:t("loading")})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("appointments")}),n.jsx(h.j,{onExport:()=>(0,x.D8)(b),disabled:0===b.length})]}),C&&n.jsx(y.X,{error:C,onDismiss:()=>k(null),onRetry:S,showRetry:!0}),n.jsx(i.Zb,{children:n.jsx(i.aY,{className:"p-6",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:(0,n.jsxs)("div",{className:"relative",children:[n.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(o.I,{placeholder:"Search by appointment number, client name, or lawyer name...",value:A,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&z(),className:"pl-10"})]})}),n.jsx(l.z,{onClick:z,children:t("search")})]}),(0,n.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(l.z,{variant:E.status?"outline":"default",size:"sm",onClick:()=>L(void 0),children:s("allStatuses")}),n.jsx(l.z,{variant:"PENDING"===E.status?"default":"outline",size:"sm",onClick:()=>L("PENDING"),children:"Pending"}),n.jsx(l.z,{variant:"CONFIRMED"===E.status?"default":"outline",size:"sm",onClick:()=>L("CONFIRMED"),children:"Confirmed"}),n.jsx(l.z,{variant:"COMPLETED"===E.status?"default":"outline",size:"sm",onClick:()=>L("COMPLETED"),children:"Completed"}),n.jsx(l.z,{variant:"CANCELLED"===E.status?"default":"outline",size:"sm",onClick:()=>L("CANCELLED"),children:"Cancelled"})]})]})})}),n.jsx("div",{className:"grid gap-4",children:0===b.length?n.jsx(i.Zb,{children:n.jsx(i.aY,{className:"p-12 text-center",children:n.jsx("p",{className:"text-gray-500",children:s("noAppointments")})})}):b.map(e=>n.jsx(i.Zb,{children:n.jsx(i.aY,{className:"p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Appointment #",e.id.slice(0,8)]}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border bg-blue-100 text-blue-800 border-blue-200",children:v[e.status]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(u.Z,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[n.jsx("span",{className:"font-medium",children:"Client:"})," ",e.client?.email||"N/A"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(u.Z,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[n.jsx("span",{className:"font-medium",children:"Lawyer:"})," ",e.lawyerNotary?.licenseNumber||"N/A"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(p.Z,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[n.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(e.appointmentDate).toLocaleDateString("en-US")," at"," ",e.appointmentTime]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[n.jsx(m.Z,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:[n.jsx("span",{className:"font-medium",children:"Location:"})," ",e.location]})]}),(0,n.jsxs)("div",{children:[n.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(e.createdAt).toLocaleString("en-US")]})]})]}),n.jsx("div",{className:"ml-4",children:n.jsx(c.default,{href:`/wills/data/${e.id}`,children:(0,n.jsxs)(l.z,{variant:"outline",size:"sm",children:[n.jsx(f.Z,{className:"w-4 h-4 mr-2"}),t("view")]})})})]})})},e.id))})]})}},4774:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var n=s(326),a=s(3717),r=s(7890),i=s(4039);function l({onExport:e,disabled:t=!1,label:s}){let l=(0,i.T_)("statistics"),o=s||l("exportToCSV");return(0,n.jsxs)(a.z,{variant:"outline",onClick:e,disabled:t,children:[n.jsx(r.Z,{className:"w-4 h-4 mr-2"}),o]})}},3717:(e,t,s)=>{"use strict";let n,a;s.d(t,{z:()=>b});var r=s(326),i=s(7577),l=s.t(i,2);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var c=Symbol.for("react.lazy"),d=l[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===c&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var p=function(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:s,...n}=e;if(u(s)&&"function"==typeof d&&(s=d(s._payload)),i.isValidElement(s)){var a;let e,r;let l=(a=s,(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref),c=function(e,t){let s={...t};for(let n in t){let a=e[n],r=t[n];/^on[A-Z]/.test(n)?a&&r?s[n]=(...e)=>{let t=r(...e);return a(...e),t}:a&&(s[n]=a):"style"===n?s[n]={...a,...r}:"className"===n&&(s[n]=[a,r].filter(Boolean).join(" "))}return{...e,...s}}(n,s.props);return s.type!==i.Fragment&&(c.ref=t?function(...e){return t=>{let s=!1,n=e.map(e=>{let n=o(e,t);return s||"function"!=typeof n||(s=!0),n});if(s)return()=>{for(let t=0;t<n.length;t++){let s=n[t];"function"==typeof s?s():o(e[t],null)}}}}(t,l):l),i.cloneElement(s,c)}return i.Children.count(s)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=i.forwardRef((e,s)=>{let{children:n,...a}=e;u(n)&&"function"==typeof d&&(n=d(n._payload));let l=i.Children.toArray(n),o=l.find(f);if(o){let e=o.props.children,n=l.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...a,ref:s,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,r.jsx)(t,{...a,ref:s,children:n})});return s.displayName=`${e}.Slot`,s}("Slot"),m=Symbol("radix.slottable");function f(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}var x=s(1135);let h=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,y=x.W;var g=s(1223);let v=(n="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==a?void 0:a.variants)==null)return y(n,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:s,defaultVariants:r}=a,i=Object.keys(s).map(t=>{let n=null==e?void 0:e[t],a=null==r?void 0:r[t];if(null===n)return null;let i=h(n)||h(a);return s[t][i]}),l=e&&Object.entries(e).reduce((e,t)=>{let[s,n]=t;return void 0===n||(e[s]=n),e},{});return y(n,i,null==a?void 0:null===(t=a.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:s,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...r,...l}[t]):({...r,...l})[t]===s})?[...e,s,n]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),b=i.forwardRef(({className:e,variant:t,size:s,asChild:n=!1,...a},i)=>{let l=n?p:"button";return r.jsx(l,{className:(0,g.cn)(v({variant:t,size:s,className:e})),ref:i,...a})});b.displayName="Button"},9971:(e,t,s)=>{"use strict";s.d(t,{X:()=>p});var n=s(326),a=s(7577),r=s(5693),i=s(1225);let l=(0,i.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),o=(0,i.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var c=s(3717),d=s(1223);let u={error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"text-red-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"text-yellow-600"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"text-blue-600"}};function p({error:e,onDismiss:t,onRetry:s,className:i,variant:p="error",autoDismiss:m,showRetry:f=!1}){let[x,h]=(0,a.useState)(!!e);if(!e||!x)return null;let y=e instanceof Error?e.message:e,g=u[p];return n.jsx("div",{className:(0,d.cn)("relative rounded-md border p-4 animate-in slide-in-from-top-2",g.bg,g.border,i),children:(0,n.jsxs)("div",{className:"flex items-start",children:[n.jsx(r.Z,{className:(0,d.cn)("h-5 w-5 flex-shrink-0 mt-0.5",g.icon)}),(0,n.jsxs)("div",{className:"ml-3 flex-1",children:[n.jsx("h3",{className:(0,d.cn)("text-sm font-medium",g.text),children:"error"===p?"Error":"warning"===p?"Warning":"Information"}),n.jsx("p",{className:(0,d.cn)("mt-1 text-sm",g.text.replace("800","700")),children:y}),f&&s&&(0,n.jsxs)(c.z,{variant:"outline",size:"sm",onClick:s,className:"mt-3",children:[n.jsx(l,{className:"w-3 h-3 mr-2"}),"Retry"]})]}),(0,n.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[s&&!f&&n.jsx("button",{onClick:s,className:(0,d.cn)("flex-shrink-0 hover:opacity-80",g.icon),title:"Retry",children:n.jsx(l,{className:"h-4 w-4"})}),t&&n.jsx("button",{onClick:()=>{h(!1),t()},className:(0,d.cn)("flex-shrink-0 hover:opacity-80",g.icon),title:"Close",children:n.jsx(o,{className:"h-4 w-4"})})]})]})})}},9175:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var n=s(326),a=s(7577),r=s(1223);let i=a.forwardRef(({className:e,type:t,...s},a)=>n.jsx("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));i.displayName="Input"},8409:(e,t,s)=>{"use strict";async function n(e,t={}){let s=`http://localhost:3001/api${e}`,n=new Headers(t.headers);n.set("Content-Type","application/json");let a=await fetch(s,{...t,headers:n});if(!a.ok){let e;if(401===a.status)throw Error("Session expired. Please log in again.");try{e=await a.json()}catch{e={message:`HTTP ${a.status}: ${a.statusText}`}}throw Error(e.message||`Request failed with status ${a.status}`)}return a.json()}s.d(t,{N:()=>n}),s(2351)},3561:(e,t,s)=>{"use strict";s.d(t,{M:()=>r});var n=s(8409);class a{async request(e,t){return(0,n.N)(e,t)}async getAllAppointments(e){let t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.lawyerNotaryId&&t.append("lawyerNotaryId",e.lawyerNotaryId),e?.dateFrom&&t.append("dateFrom",e.dateFrom),e?.dateTo&&t.append("dateTo",e.dateTo),e?.search&&t.append("search",e.search);let s=t.toString();return this.request(`/wills/appointments${s?`?${s}`:""}`)}async getAppointment(e){return this.request(`/wills/appointments/${e}`)}async getWillData(e){return this.request(`/wills/data/${e}`)}async getAllExecutions(e){let t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.dateFrom&&t.append("dateFrom",e.dateFrom),e?.dateTo&&t.append("dateTo",e.dateTo);let s=t.toString();return this.request(`/wills/executions${s?`?${s}`:""}`)}async getExecution(e){return this.request(`/wills/executions/${e}`)}}let r=new a},7415:(e,t,s)=>{"use strict";function n(e,t,s){if(0===e.length){alert("No data to export");return}let n=Object.keys(e[0]),a=new Blob(["\uFEFF"+[n.map(e=>s?.[e]||String(e)).join(","),...e.map(e=>n.map(t=>{let s=e[t];if(null==s)return"";let n=String(s);return n.includes(",")||n.includes('"')||n.includes("\n")?`"${n.replace(/"/g,'""')}"`:n}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),i=URL.createObjectURL(a);r.setAttribute("href",i),r.setAttribute("download",`${t}_${new Date().toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}function a(e){n(e.map(e=>({email:e.user?.email||"",licenseNumber:e.licenseNumber,licenseType:e.licenseType,status:e.status,organization:e.organization||"",specialization:e.specialization||"",yearsOfExperience:e.yearsOfExperience||"",officePostalCode:e.officePostalCode,officeAddress:e.officeAddress,phone:e.phone||"",createdAt:new Date(e.createdAt).toLocaleDateString("de-DE")})),"lawyers",{email:"Email",licenseNumber:"License Number",licenseType:"License Type",status:"Status",organization:"Organization",specialization:"Specialization",yearsOfExperience:"Years of Experience",officePostalCode:"Postal Code",officeAddress:"Office Address",phone:"Phone",createdAt:"Created At"})}function r(e){n(e.map(e=>({id:e.id.slice(0,8),clientEmail:e.client?.email||"",lawyerLicense:e.lawyerNotary?.licenseNumber||"",appointmentDate:new Date(e.appointmentDate).toLocaleDateString("de-DE"),appointmentTime:e.appointmentTime,location:e.location,status:e.status,createdAt:new Date(e.createdAt).toLocaleDateString("de-DE")})),"appointments",{id:"Request ID",clientEmail:"Client Email",lawyerLicense:"Lawyer License",appointmentDate:"Appointment Date",appointmentTime:"Appointment Time",location:"Location",status:"Status",createdAt:"Created At"})}s.d(t,{D8:()=>r,li:()=>a})},5693:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let n=(0,s(1225).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7890:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let n=(0,s(1225).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},8216:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let n=(0,s(1225).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6953:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let n=(0,s(1225).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6774:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let n=(0,s(1225).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9094:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let n=(0,s(1225).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4945:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(8570).createProxy)(String.raw`/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/wills/appointments/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[581,398],()=>s(7799));module.exports=n})();