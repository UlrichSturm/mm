(()=>{var e={};e.id=430,e.ids=[430],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5134:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(2167),r(3490),r(5866);var s=r(3191),n=r(8716),a=r(7922),l=r.n(a),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["vendors",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2167)),"/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/vendors/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3490)),"/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/vendors/create/page.tsx"],u="/vendors/create/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/vendors/create/page",pathname:"/vendors/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4532:(e,t,r)=>{Promise.resolve().then(r.bind(r,4463))},4463:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(326),n=r(7577),a=r(5047),l=r(7193),i=r(5329),o=r(3717),d=r(9175),c=r(4039),u=r(2816),m=r(434),p=r(9971);function h(){let e=(0,a.useRouter)(),t=(0,c.T_)("vendors"),r=(0,c.T_)("common"),[h,f]=(0,n.useState)(!1),[x,y]=(0,n.useState)(null),[v,g]=(0,n.useState)({password:"",businessName:"",email:"",phone:"",address:"",postalCode:""}),b=async t=>{t.preventDefault(),y(null),f(!0);try{if(!v.password||!v.businessName||!v.email)throw Error("Please fill in all required fields");if(v.password.length<8)throw Error("Password must be at least 8 characters long");await l.G.create(v),e.push("/vendors")}catch(e){y(e instanceof Error?e:Error(String(e)))}finally{f(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(m.default,{href:"/vendors",children:s.jsx(o.z,{variant:"outline",size:"icon",children:s.jsx(u.Z,{className:"w-4 h-4"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t("create")})]}),x&&s.jsx(p.X,{error:x,onDismiss:()=>y(null),variant:"error"}),(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:s.jsx(i.ll,{children:"Vendor Information"})}),s.jsx(i.aY,{children:(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(d.I,{id:"businessName",type:"text",required:!0,value:v.businessName,onChange:e=>g({...v,businessName:e.target.value}),placeholder:"Enter business name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(d.I,{id:"email",type:"email",required:!0,value:v.email,onChange:e=>g({...v,email:e.target.value}),placeholder:"Enter email address"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"A user account will be created in Keycloak with this email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(d.I,{id:"password",type:"password",required:!0,value:v.password,onChange:e=>g({...v,password:e.target.value}),placeholder:"Enter password (min 8 characters)",minLength:8}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Password for the vendor account. User ID (UUID) will be generated automatically in Keycloak."})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),s.jsx(d.I,{id:"phone",type:"tel",value:v.phone||"",onChange:e=>g({...v,phone:e.target.value}),placeholder:"Enter phone number"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx(d.I,{id:"address",type:"text",value:v.address||"",onChange:e=>g({...v,address:e.target.value}),placeholder:"Enter address"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),s.jsx(d.I,{id:"postalCode",type:"text",value:v.postalCode||"",onChange:e=>g({...v,postalCode:e.target.value}),placeholder:"Enter postal code"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx(o.z,{type:"submit",disabled:h,children:r(h?"loading":"create")}),s.jsx(m.default,{href:"/vendors",children:s.jsx(o.z,{type:"button",variant:"outline",children:r("cancel")})})]})]})})]})]})}},3717:(e,t,r)=>{"use strict";let s,n;r.d(t,{z:()=>b});var a=r(326),l=r(7577),i=r.t(l,2);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var d=Symbol.for("react.lazy"),c=i[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===d&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var m=function(e){let t=function(e){let t=l.forwardRef((e,t)=>{let{children:r,...s}=e;if(u(r)&&"function"==typeof c&&(r=c(r._payload)),l.isValidElement(r)){var n;let e,a;let i=(n=r,(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref),d=function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{let t=a(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==l.Fragment&&(d.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=o(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():o(e[t],null)}}}}(t,i):i),l.cloneElement(r,d)}return l.Children.count(r)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=l.forwardRef((e,r)=>{let{children:s,...n}=e;u(s)&&"function"==typeof c&&(s=c(s._payload));let i=l.Children.toArray(s),o=i.find(h);if(o){let e=o.props.children,s=i.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...n,ref:r,children:l.isValidElement(e)?l.cloneElement(e,void 0,s):null})}return(0,a.jsx)(t,{...n,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}("Slot"),p=Symbol("radix.slottable");function h(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var f=r(1135);let x=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,y=f.W;var v=r(1223);let g=(s="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var t;if((null==n?void 0:n.variants)==null)return y(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:a}=n,l=Object.keys(r).map(t=>{let s=null==e?void 0:e[t],n=null==a?void 0:a[t];if(null===s)return null;let l=x(s)||x(n);return r[t][l]}),i=e&&Object.entries(e).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return y(s,l,null==n?void 0:null===(t=n.compoundVariants)||void 0===t?void 0:t.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...i}[t]):({...a,...i})[t]===r})?[...e,r,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),b=l.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...n},l)=>{let i=s?m:"button";return a.jsx(i,{className:(0,v.cn)(g({variant:t,size:r,className:e})),ref:l,...n})});b.displayName="Button"},9971:(e,t,r)=>{"use strict";r.d(t,{X:()=>m});var s=r(326),n=r(7577),a=r(5693),l=r(1225);let i=(0,l.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),o=(0,l.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var d=r(3717),c=r(1223);let u={error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"text-red-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"text-yellow-600"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"text-blue-600"}};function m({error:e,onDismiss:t,onRetry:r,className:l,variant:m="error",autoDismiss:p,showRetry:h=!1}){let[f,x]=(0,n.useState)(!!e);if(!e||!f)return null;let y=e instanceof Error?e.message:e,v=u[m];return s.jsx("div",{className:(0,c.cn)("relative rounded-md border p-4 animate-in slide-in-from-top-2",v.bg,v.border,l),children:(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx(a.Z,{className:(0,c.cn)("h-5 w-5 flex-shrink-0 mt-0.5",v.icon)}),(0,s.jsxs)("div",{className:"ml-3 flex-1",children:[s.jsx("h3",{className:(0,c.cn)("text-sm font-medium",v.text),children:"error"===m?"Error":"warning"===m?"Warning":"Information"}),s.jsx("p",{className:(0,c.cn)("mt-1 text-sm",v.text.replace("800","700")),children:y}),h&&r&&(0,s.jsxs)(d.z,{variant:"outline",size:"sm",onClick:r,className:"mt-3",children:[s.jsx(i,{className:"w-3 h-3 mr-2"}),"Retry"]})]}),(0,s.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[r&&!h&&s.jsx("button",{onClick:r,className:(0,c.cn)("flex-shrink-0 hover:opacity-80",v.icon),title:"Retry",children:s.jsx(i,{className:"h-4 w-4"})}),t&&s.jsx("button",{onClick:()=>{x(!1),t()},className:(0,c.cn)("flex-shrink-0 hover:opacity-80",v.icon),title:"Close",children:s.jsx(o,{className:"h-4 w-4"})})]})]})})}},9175:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var s=r(326),n=r(7577),a=r(1223);let l=n.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));l.displayName="Input"},8409:(e,t,r)=>{"use strict";async function s(e,t={}){let r=`http://localhost:3001/api${e}`,s=new Headers(t.headers);s.set("Content-Type","application/json");let n=await fetch(r,{...t,headers:s});if(!n.ok){let e;if(401===n.status)throw Error("Session expired. Please log in again.");try{e=await n.json()}catch{e={message:`HTTP ${n.status}: ${n.statusText}`}}throw Error(e.message||`Request failed with status ${n.status}`)}return n.json()}r.d(t,{N:()=>s}),r(2351)},7193:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var s=r(8409);class n{async request(e,t){return(0,s.N)(e,t)}async getAll(e){let t=new URLSearchParams;e?.status&&t.append("status",e.status);let r=t.toString(),s=`/vendors${r?`?${r}`:""}`;return this.request(s)}async getById(e){return this.request(`/vendors/${e}`)}async create(e){return this.request("/vendors",{method:"POST",body:JSON.stringify(e)})}async update(e,t){return this.request(`/vendors/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async updateStatus(e,t){return this.request(`/vendors/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})}async delete(e){await this.request(`/vendors/${e}`,{method:"DELETE"})}}let a=new n},2816:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(1225).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(1225).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/vendors/create/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[581,398],()=>r(5134));module.exports=s})();