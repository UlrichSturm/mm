(()=>{var e={};e.id=498,e.ids=[498],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},975:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(6480),s(3490),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["lawyer-notary",{children:["statistics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6480)),"/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/lawyer-notary/statistics/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3490)),"/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/lawyer-notary/statistics/page.tsx"],p="/lawyer-notary/statistics/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/lawyer-notary/statistics/page",pathname:"/lawyer-notary/statistics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6702:(e,t,s)=>{Promise.resolve().then(s.bind(s,3205))},3205:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(326),r=s(4774),n=s(5886),i=s(8095),l=s(5329),o=s(9971),c=s(5960),d=s(8391),p=s(7415),m=s(4039),u=s(2816),x=s(4667),y=s(771),g=s(434),h=s(7577);function f(){let e=(0,m.T_)("statistics"),t=(0,m.T_)("common"),{error:s,handleError:f,clearError:b}=(0,c.U)(),[j,N]=(0,h.useState)([]),[w,v]=(0,h.useState)([]),[C,A]=(0,h.useState)(!0),[T,D]=(0,h.useState)("appointments"),E=async()=>{try{A(!0),b();let e=await d.q.getAll();N(e);let t=e.map(e=>({lawyer:e,appointmentsCount:0,completedWillsCount:0,averageRating:e.rating||0,confirmationRate:0}));v(t)}catch(e){f(e)}finally{A(!1)}},P=[...w].sort((e,t)=>{switch(T){case"appointments":return t.appointmentsCount-e.appointmentsCount;case"completed":return t.completedWillsCount-e.completedWillsCount;case"rating":return(t.averageRating||0)-(e.averageRating||0);default:return 0}});return C?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:t("loading")})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(g.default,{href:"/lawyer-notary",children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-md",children:a.jsx(u.Z,{className:"w-5 h-5"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e("title")})]}),s&&a.jsx(o.X,{error:s,onDismiss:b,onRetry:E,showRetry:!0}),a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>D("appointments"),className:`px-4 py-2 rounded-md text-sm font-medium ${"appointments"===T?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e("byAppointments")}),a.jsx("button",{onClick:()=>D("completed"),className:`px-4 py-2 rounded-md text-sm font-medium ${"completed"===T?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e("byCompleted")}),a.jsx("button",{onClick:()=>D("rating"),className:`px-4 py-2 rounded-md text-sm font-medium ${"rating"===T?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e("byRating")})]}),a.jsx(r.j,{onExport:()=>(0,p.li)(j),disabled:0===j.length,label:e("exportToCSV")})]})})}),a.jsx("div",{className:"grid gap-4",children:0===P.length?a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-12 text-center",children:a.jsx("p",{className:"text-gray-500",children:e("noData")})})}):P.map(t=>a.jsx(l.Zb,{children:a.jsx(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.lawyer.user?.email||"N/A"}),a.jsx(i.O,{status:t.lawyer.status}),a.jsx(n._,{licenseType:t.lawyer.licenseType})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:e("appointments")}),a.jsx("p",{className:"text-lg font-semibold",children:t.appointmentsCount})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:e("completed")}),a.jsx("p",{className:"text-lg font-semibold",children:t.completedWillsCount})]})]}),t.averageRating&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:e("rating")}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[t.averageRating.toFixed(1),"/5"]})]})]}),t.confirmationRate&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"w-4 h-4 text-purple-500"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:e("confirmed")}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[t.confirmationRate.toFixed(0),"%"]})]})]})]})]}),a.jsx("div",{className:"ml-4",children:a.jsx(g.default,{href:`/lawyer-notary/${t.lawyer.id}`,children:a.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:e("details")})})})]})})},t.lawyer.id))})]})}},4774:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var a=s(326),r=s(3717),n=s(7890),i=s(4039);function l({onExport:e,disabled:t=!1,label:s}){let l=(0,i.T_)("statistics"),o=s||l("exportToCSV");return(0,a.jsxs)(r.z,{variant:"outline",onClick:e,disabled:t,children:[a.jsx(n.Z,{className:"w-4 h-4 mr-2"}),o]})}},5886:(e,t,s)=>{"use strict";s.d(t,{_:()=>l});var a=s(326),r=s(1223),n=s(4039);let i={LAWYER:{className:"bg-blue-100 text-blue-800 border-blue-200",key:"lawyer"},NOTARY:{className:"bg-purple-100 text-purple-800 border-purple-200",key:"notary"},BOTH:{className:"bg-indigo-100 text-indigo-800 border-indigo-200",key:"both"}};function l({licenseType:e,className:t}){let s=(0,n.T_)("licenseType"),l=i[e];return a.jsx("span",{className:(0,r.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",l.className,t),children:s(l.key)})}},8095:(e,t,s)=>{"use strict";s.d(t,{O:()=>l});var a=s(326),r=s(1223),n=s(4039);let i={PENDING:{className:"bg-yellow-100 text-yellow-800 border-yellow-200"},APPROVED:{className:"bg-green-100 text-green-800 border-green-200"},REJECTED:{className:"bg-red-100 text-red-800 border-red-200"}};function l({status:e,className:t}){let s=(0,n.T_)("status"),l=i[e],o=s(e.toLowerCase());return a.jsx("span",{className:(0,r.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",l.className,t),children:o})}},8391:(e,t,s)=>{"use strict";s.d(t,{q:()=>n});var a=s(8409);class r{async request(e,t){return(0,a.N)(e,t)}async getAll(e){let t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.licenseType&&t.append("licenseType",e.licenseType),e?.search&&t.append("search",e.search),e?.postalCode&&t.append("postalCode",e.postalCode);let s=t.toString();return this.request(`/lawyer-notary${s?`?${s}`:""}`)}async getOne(e){return this.request(`/lawyer-notary/${e}`)}async create(e){return this.request("/lawyer-notary",{method:"POST",body:JSON.stringify(e)})}async update(e,t){return this.request(`/lawyer-notary/${e}`,{method:"PATCH",body:JSON.stringify(t)})}async updateStatus(e,t,s){return this.request(`/lawyer-notary/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t,comment:s})})}async delete(e){return this.request(`/lawyer-notary/${e}`,{method:"DELETE"})}}let n=new r},7415:(e,t,s)=>{"use strict";function a(e,t,s){if(0===e.length){alert("No data to export");return}let a=Object.keys(e[0]),r=new Blob(["\uFEFF"+[a.map(e=>s?.[e]||String(e)).join(","),...e.map(e=>a.map(t=>{let s=e[t];if(null==s)return"";let a=String(s);return a.includes(",")||a.includes('"')||a.includes("\n")?`"${a.replace(/"/g,'""')}"`:a}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),i=URL.createObjectURL(r);n.setAttribute("href",i),n.setAttribute("download",`${t}_${new Date().toISOString().split("T")[0]}.csv`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function r(e){a(e.map(e=>({email:e.user?.email||"",licenseNumber:e.licenseNumber,licenseType:e.licenseType,status:e.status,organization:e.organization||"",specialization:e.specialization||"",yearsOfExperience:e.yearsOfExperience||"",officePostalCode:e.officePostalCode,officeAddress:e.officeAddress,phone:e.phone||"",createdAt:new Date(e.createdAt).toLocaleDateString("de-DE")})),"lawyers",{email:"Email",licenseNumber:"License Number",licenseType:"License Type",status:"Status",organization:"Organization",specialization:"Specialization",yearsOfExperience:"Years of Experience",officePostalCode:"Postal Code",officeAddress:"Office Address",phone:"Phone",createdAt:"Created At"})}function n(e){a(e.map(e=>({id:e.id.slice(0,8),clientEmail:e.client?.email||"",lawyerLicense:e.lawyerNotary?.licenseNumber||"",appointmentDate:new Date(e.appointmentDate).toLocaleDateString("de-DE"),appointmentTime:e.appointmentTime,location:e.location,status:e.status,createdAt:new Date(e.createdAt).toLocaleDateString("de-DE")})),"appointments",{id:"Request ID",clientEmail:"Client Email",lawyerLicense:"Lawyer License",appointmentDate:"Appointment Date",appointmentTime:"Appointment Time",location:"Location",status:"Status",createdAt:"Created At"})}s.d(t,{D8:()=>n,li:()=>r})},2816:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(1225).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7890:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(1225).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},6480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/app/lawyer-notary/statistics/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[581,398,375],()=>s(975));module.exports=a})();