exports.id=398,exports.ids=[398],exports.modules={4699:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},4214:(e,t,r)=>{Promise.resolve().then(r.bind(r,784))},3654:(e,t,r)=>{"use strict";r.d(t,{E:()=>i,u:()=>l});var s=r(326),n=r(7577),a=r(2351);let o=(0,n.createContext)(void 0);function i(){let e=(0,n.useContext)(o);if(!e)throw Error("useKeycloak must be used within KeycloakProvider");return e}function l({children:e}){let[t,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!0),[d,c]=(0,n.useState)(null);return s.jsx(o.Provider,{value:{isAuthenticated:t,isLoading:i,user:d,login:()=>{a.tP.login({redirectUri:window.location.origin+"/"})},logout:()=>{a.tP.logout({redirectUri:window.location.origin+"/"})},refreshAuth:()=>{a.tP.authenticated?(r(!0),c((0,a.bG)())):(r(!1),c(null))}},children:e})}},784:(e,t,r)=>{"use strict";r.d(t,{LayoutContent:()=>j});var s=r(326),n=r(5047),a=r(434),o=r(3099),i=r(9031),l=r(268),d=r(4667),c=r(3726),m=r(771),u=r(1114),p=r(4039);function h(){let e=(0,p.T_)("common");return(0,s.jsxs)("button",{onClick:()=>{},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[s.jsx(u.Z,{className:"w-4 h-4 mr-2"}),e("logout")]})}var x=r(3654),f=r(8303),g=r(7577);function y({getLocale:e,setLocale:t,className:r="",selectClassName:n=""}){let[a,o]=(0,g.useState)("en"),i=e=>{t(e),o(e)};return(0,s.jsxs)("div",{className:`flex items-center space-x-2 ${r}`,children:[s.jsx(f.Z,{className:"w-4 h-4 text-gray-500"}),(0,s.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:`text-sm border border-gray-300 rounded px-2 py-1 bg-white ${n}`,"aria-label":"Select language",children:[s.jsx("option",{value:"en",children:"EN"}),s.jsx("option",{value:"ru",children:"RU"})]})]})}function v(){let e=(0,p.T_)("nav"),{isAuthenticated:t,isLoading:r}=(0,x.E)();return r||!t?null:s.jsx("nav",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center",children:s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Portal"})}),(0,s.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,s.jsxs)(a.default,{href:"/dashboard",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-gray-700",children:[s.jsx(o.Z,{className:"w-4 h-4 mr-2"}),e("dashboard")]}),(0,s.jsxs)(a.default,{href:"/lawyer-notary",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-gray-700",children:[s.jsx(i.Z,{className:"w-4 h-4 mr-2"}),e("lawyers")]}),(0,s.jsxs)(a.default,{href:"/vendors",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-gray-700",children:[s.jsx(l.Z,{className:"w-4 h-4 mr-2"}),e("vendors")]}),(0,s.jsxs)(a.default,{href:"/lawyer-notary/statistics",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-gray-700",children:[s.jsx(d.Z,{className:"w-4 h-4 mr-2"}),e("statistics")]}),(0,s.jsxs)(a.default,{href:"/wills/appointments",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-gray-700",children:[s.jsx(c.Z,{className:"w-4 h-4 mr-2"}),e("appointments")]}),(0,s.jsxs)(a.default,{href:"/wills/executions",className:"inline-flex items-center px-1 pt-1 text-sm font-medium text-gray-900 hover:text-gray-700",children:[s.jsx(m.Z,{className:"w-4 h-4 mr-2"}),e("executions")]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[s.jsx(y,{getLocale:p.Kd,setLocale:p.i_}),s.jsx(h,{})]})]})})})}var w=r(9303),b=r(5329);function N({children:e,requireAdmin:t=!1}){(0,n.useRouter)();let{isAuthenticated:r,isLoading:a,user:o}=(0,x.E)();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx(b.Zb,{className:"w-full max-w-md",children:(0,s.jsxs)(b.aY,{className:"p-8 text-center",children:[s.jsx(w.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})}):r&&(!t||(o?.roles||[]).includes("admin"))?s.jsx(s.Fragment,{children:e}):null}function j({children:e}){let t=(0,n.usePathname)(),r=t?.startsWith("/auth/login");return s.jsx(x.u,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(v,{}),s.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:r?e:s.jsx(N,{requireAdmin:!0,children:e})})]})})}},5329:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,Zb:()=>o,aY:()=>i,ll:()=>d});var s=r(326),n=r(7577),a=r(1223);let o=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...t}));i.displayName="CardContent";let l=n.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let d=n.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle"},4039:(e,t,r)=>{"use strict";r.d(t,{Kd:()=>i,i_:()=>l,T_:()=>d});let s=JSON.parse('{"common":{"loading":"Loading...","error":"Error","success":"Success","save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","view":"View","create":"Create","search":"Search","filter":"Filter","actions":"Actions","status":"Status","logout":"Logout","pending":"Pending","approved":"Approved","rejected":"Rejected","phone":"Phone","address":"Address","postalCode":"Postal Code","createdAt":"Created At","approve":"Approve","reject":"Reject","setPending":"Set Pending"},"nav":{"dashboard":"Dashboard","lawyers":"Lawyers/Notaries","vendors":"Vendors","statistics":"Statistics","appointments":"Appointments","executions":"Executions"},"dashboard":{"title":"Dashboard","totalLawyers":"Total Lawyers","totalVendors":"Total Vendors","approved":"Approved","pending":"Pending","rejected":"Rejected","willAppointments":"Will Appointments","willExecutions":"Will Executions","createProfile":"Create Profile","latestProfiles":"Latest Profiles","latestLawyers":"Latest Lawyers","latestVendors":"Latest Vendors","noProfiles":"No profiles found","noLawyers":"No lawyers found","noVendors":"No vendors found","loadError":"Failed to load data"},"lawyers":{"title":"Lawyers & Notaries","create":"Create Lawyer/Notary","search":"Search by name, email, or license number...","allStatuses":"All Statuses","allTypes":"All Types","noLawyers":"No lawyers found","businessName":"Organization","email":"Email","licenseNumber":"License Number","licenseType":"License Type","registrationDate":"Registration Date"},"vendors":{"title":"Vendors","create":"Create Vendor","search":"Search by business name or email...","allStatuses":"All Statuses","noVendors":"No vendors found","businessName":"Business Name","email":"Email","registrationDate":"Registration Date","vendorNotFound":"Vendor not found","backToList":"Back to list","vendorInformation":"Vendor Information","phone":"Phone","userId":"User ID","userIdDescription":"Keycloak User ID (UUID)","additionalInfo":"Additional Information","approve":"Approve","reject":"Reject","setPending":"Set Pending"},"auth":{"login":"Login","email":"Email","password":"Password","enterCredentials":"Enter your credentials to access the dashboard","loginButton":"Login","loggingIn":"Logging in...","invalidCredentials":"Invalid email or password","connectionError":"Connection error. Please ensure the backend server is running on http://localhost:3001","sessionExpired":"Session expired. Please log in again.","useAdminCredentials":"Use administrator credentials"},"status":{"pending":"Pending","approved":"Approved","rejected":"Rejected"},"licenseType":{"lawyer":"Lawyer","notary":"Notary","both":"Lawyer & Notary"},"errors":{"unauthorized":"Authorization required. Please log in.","forbidden":"You don\'t have permission to perform this action.","notFound":"Requested resource not found.","serverError":"Server error. Please try again later.","serviceUnavailable":"Service temporarily unavailable. Please try again later.","connectionError":"Connection error. Please ensure the backend server is running on http://localhost:3001"},"statistics":{"title":"Statistics by Lawyers","byAppointments":"By Appointments","byCompleted":"By Completed","byRating":"By Rating","noData":"No data to display","appointments":"Appointments","completed":"Completed","rating":"Rating","confirmed":"Confirmed","details":"Details","exportToCSV":"Export to CSV"},"appointments":{"allStatuses":"All Statuses","noAppointments":"No appointments found"}}'),n=JSON.parse('{"common":{"loading":"Загрузка...","error":"Ошибка","success":"Успешно","save":"Сохранить","cancel":"Отмена","delete":"Удалить","edit":"Редактировать","view":"Просмотр","create":"Создать","search":"Поиск","filter":"Фильтр","actions":"Действия","status":"Статус","logout":"Выход","pending":"Ожидает","approved":"Одобрен","rejected":"Отклонён"},"nav":{"dashboard":"Дашборд","lawyers":"Адвокаты/Нотариусы","vendors":"Vendors","statistics":"Статистика","appointments":"Заявки","executions":"Исполнение"},"dashboard":{"title":"Дашборд","totalLawyers":"Всего адвокатов","approved":"Одобрено","pending":"Ожидает","rejected":"Отклонено","willAppointments":"Заявок на завещания","willExecutions":"Исполняемых завещаний","createProfile":"Создать профиль","latestProfiles":"Последние профили","noProfiles":"Профили не найдены","loadError":"Ошибка загрузки данных"},"lawyers":{"title":"Адвокаты и Нотариусы","create":"Создать адвоката/нотариуса","search":"Поиск по имени, email или номеру лицензии...","allStatuses":"Все статусы","allTypes":"Все типы","noLawyers":"Адвокаты не найдены","businessName":"Название организации","email":"Email","licenseNumber":"Номер лицензии","licenseType":"Тип лицензии","registrationDate":"Дата регистрации"},"vendors":{"title":"Поставщики","create":"Создать поставщика","search":"Поиск по названию бизнеса или email...","allStatuses":"Все статусы","noVendors":"Поставщики не найдены","businessName":"Название бизнеса","email":"Email","registrationDate":"Дата регистрации","vendorNotFound":"Поставщик не найден","backToList":"Вернуться к списку","vendorInformation":"Информация о поставщике","phone":"Телефон","userId":"ID пользователя","userIdDescription":"ID пользователя Keycloak (UUID)","additionalInfo":"Дополнительная информация","approve":"Одобрить","reject":"Отклонить","setPending":"Установить ожидание"},"auth":{"login":"Вход","email":"Email","password":"Пароль","enterCredentials":"Введите ваши учётные данные для доступа к панели управления","loginButton":"Войти","loggingIn":"Вход...","invalidCredentials":"Неверный email или пароль","connectionError":"Ошибка подключения к серверу. Убедитесь, что бэкенд запущен на http://localhost:3001","sessionExpired":"Сессия истекла. Пожалуйста, войдите снова.","useAdminCredentials":"Используйте учётные данные администратора"},"status":{"pending":"Ожидает","approved":"Одобрен","rejected":"Отклонён"},"licenseType":{"lawyer":"Адвокат","notary":"Нотариус","both":"Адвокат и Нотариус"},"errors":{"unauthorized":"Необходима авторизация. Пожалуйста, войдите в систему.","forbidden":"У вас нет прав для выполнения этого действия.","notFound":"Запрашиваемый ресурс не найден.","serverError":"Ошибка сервера. Пожалуйста, попробуйте позже.","serviceUnavailable":"Сервис временно недоступен. Пожалуйста, попробуйте позже.","connectionError":"Ошибка подключения к серверу. Убедитесь, что бэкенд запущен на http://localhost:3001"},"statistics":{"title":"Статистика по адвокатам","byAppointments":"По заявкам","byCompleted":"По завершенным","byRating":"По рейтингу","noData":"Нет данных для отображения","appointments":"Заявок","completed":"Завершено","rating":"Рейтинг","confirmed":"Подтверждено","details":"Детали","exportToCSV":"Экспорт в CSV"},"appointments":{"allStatuses":"Все статусы","noAppointments":"Заявки не найдены"}}');var a=r(7577);let o={en:s,ru:n};function i(){return"en"}function l(e){}function d(e){let[t,r]=(0,a.useState)(()=>"en");return(0,a.useMemo)(()=>{let r=o[t]||o.en;return(s,n)=>{let a=e?`${e}.${s}`:s,i=a.split("."),l=r;for(let e of i)if(l&&"object"==typeof l&&e in l)l=l[e];else{l=void 0;break}if(void 0===l||"string"!=typeof l){let e=o.en;for(let t of i)if(e&&"object"==typeof e&&t in e)e=e[t];else{e=void 0;break}"string"==typeof e&&(l=e)}return"string"!=typeof l?(console.warn(`[i18n] Translation not found for key: ${a}, locale: ${t}`),a):n?Object.entries(n).reduce((e,[t,r])=>e.replace(`{${t}}`,String(r)),l):l}},[t,e])}},2351:(e,t,r)=>{"use strict";r.d(t,{LP:()=>i,UF:()=>o,bG:()=>l,tP:()=>a});var s=r(3305);let n={url:process.env.NEXT_PUBLIC_KEYCLOAK_URL||"http://localhost:8080",realm:process.env.NEXT_PUBLIC_KEYCLOAK_REALM||"memento-mori",clientId:process.env.NEXT_PUBLIC_KEYCLOAK_CLIENT_ID||"memento-mori-admin"},a=new s.Z(n);async function o(e,t){try{let r=`${n.url}/realms/${n.realm}/protocol/openid-connect/token`,s=new URLSearchParams;s.append("grant_type","password"),s.append("client_id",n.clientId),s.append("username",e),s.append("password",t);let o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString()});if(!o.ok){let e=await o.json().catch(()=>({})),t=e.error_description||e.error||"Invalid credentials",r=t;return t.includes("Invalid user credentials")?r="Invalid email or password":t.includes("Account is disabled")?r="Account is disabled":t.includes("Account is temporarily disabled")&&(r="Account is temporarily disabled due to too many failed login attempts"),{success:!1,error:r}}let i=await o.json();if(a.token=i.access_token,a.refreshToken=i.refresh_token,a.idToken=i.id_token,a.authenticated=!0,i.access_token)try{let e=i.access_token.split(".");if(3===e.length){let t=e[1].replace(/-/g,"+").replace(/_/g,"/"),r=t+"=".repeat((4-t.length%4)%4);a.tokenParsed=JSON.parse(atob(r))}}catch(e){console.error("Error parsing token:",e)}return a.token&&localStorage.setItem("authToken",a.token),a.onTokenExpired=()=>{a.updateToken(30).then(e=>{e&&a.token&&localStorage.setItem("authToken",a.token)}).catch(()=>{a.login({redirectUri:window.location.origin+"/"})})},a.onAuthSuccess&&a.onAuthSuccess(),{success:!0}}catch(e){return console.error("Login error:",e),{success:!1,error:e instanceof Error?e.message:"Login failed. Please try again."}}}function i(){return a.token||localStorage.getItem("authToken")}function l(){return a.tokenParsed?{id:a.tokenParsed.sub,email:a.tokenParsed.email||a.tokenParsed.preferred_username,firstName:a.tokenParsed.given_name,lastName:a.tokenParsed.family_name,roles:a.tokenParsed.realm_access?.roles||[]}:null}},1223:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(1135),n=r(1009);function a(...e){return(0,n.m6)((0,s.W)(e))}},3490:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>i});var s=r(9510),n=r(3944),a=r.n(n);r(5023);let o=(0,r(8570).createProxy)(String.raw`/Users/ulrichsturm/Downloads/MM-1/apps/admin-portal/src/components/layout/LayoutContent.tsx#LayoutContent`),i={title:"Admin Portal - Memento Mori",description:"Administrative panel for managing lawyers, notaries, and vendors"};function l({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${a().variable} ${a().className}`,children:s.jsx(o,{children:e})})})}},5023:()=>{}};