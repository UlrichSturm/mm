(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{1280:function(e,t,s){Promise.resolve().then(s.bind(s,1202))},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},1202:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437),n=s(2265),a=s(9376),l=s(757),i=s(1171),o=s(2827),u=s(9617),c=s(5020),d=s(6621),m=s(7816);function f(){let e=(0,a.useRouter)(),{isAuthenticated:t,isLoading:s,refreshAuth:f}=(0,u.E)(),[h,x]=(0,n.useState)(""),[g,b]=(0,n.useState)(""),[p,j]=(0,n.useState)(!1),[v,w]=(0,n.useState)(null);(0,n.useEffect)(()=>{!s&&t&&e.replace("/dashboard")},[t,s,e]);let y=async t=>{t.preventDefault(),w(null),j(!0);try{let t=await (0,c.UF)(h,g);t.success?(f(),setTimeout(()=>{e.replace("/dashboard")},200)):w(t.error||"Invalid credentials")}catch(e){w(e instanceof Error?e.message:"Login failed")}finally{j(!1)}};return s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)(l.Zb,{className:"w-full max-w-md",children:(0,r.jsxs)(l.aY,{className:"p-8 text-center",children:[(0,r.jsx)(d.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)(l.Zb,{className:"w-full max-w-md",children:(0,r.jsxs)(l.aY,{className:"p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Portal"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Sign in to access the admin panel"})]}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)(o.I,{id:"email",type:"email",value:h,onChange:e=>x(e.target.value),placeholder:"Enter your email",required:!0,disabled:p,className:"w-full"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)(o.I,{id:"password",type:"password",value:g,onChange:e=>b(e.target.value),placeholder:"Enter your password",required:!0,disabled:p,className:"w-full"})]}),v&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600 bg-red-50 p-3 rounded-md",children:[(0,r.jsx)(m.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:v})]}),(0,r.jsx)(i.z,{type:"submit",className:"w-full",size:"lg",disabled:p,children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]})]})})})}},9617:function(e,t,s){"use strict";s.d(t,{E:function(){return i},u:function(){return o}});var r=s(7437),n=s(2265),a=s(5020);let l=(0,n.createContext)(void 0);function i(){let e=(0,n.useContext)(l);if(!e)throw Error("useKeycloak must be used within KeycloakProvider");return e}function o(e){let{children:t}=e,[s,i]=(0,n.useState)(!1),[o,u]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(0,a.Nn)(()=>{i(!0),d((0,a.bG)()),u(!1)},e=>{console.error("Keycloak initialization error:",e),i(!1),d(null),u(!1)}).then(e=>{e||u(!1)}),a.tP.onAuthSuccess=()=>{i(!0),d((0,a.bG)()),a.tP.token&&localStorage.setItem("authToken",a.tP.token)},a.tP.onAuthError=()=>{i(!1),d(null)},a.tP.onAuthLogout=()=>{i(!1),d(null),localStorage.removeItem("authToken"),localStorage.removeItem("user")}},[]),(0,r.jsx)(l.Provider,{value:{isAuthenticated:s,isLoading:o,user:c,login:()=>{a.tP.login({redirectUri:window.location.origin+"/"})},logout:()=>{a.tP.logout({redirectUri:window.location.origin+"/"})},refreshAuth:()=>{a.tP.authenticated?(i(!0),d((0,a.bG)())):(i(!1),d(null))}},children:t})}},2827:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var r=s(7437),n=s(2265),a=s(3448);let l=n.forwardRef((e,t)=>{let{className:s,type:n,...l}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},6621:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(6241).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},function(e){e.O(0,[442,920,971,117,744],function(){return e(e.s=1280)}),_N_E=e.O()}]);