(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{1773:function(e,t,n){Promise.resolve().then(n.bind(n,2562))},2562:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var a=n(7437),s=n(7432),i=n(8761),r=n(9427),l=n(757),c=n(8023),o=n(7951),d=n(707),u=n(7671),m=n(614),p=n(1978),x=n(450),y=n(2412),h=n(7648),g=n(2265);function f(){let e=(0,m.T_)("statistics"),t=(0,m.T_)("common"),{error:n,handleError:f,clearError:b}=(0,o.U)(),[j,v]=(0,g.useState)([]),[N,w]=(0,g.useState)([]),[C,T]=(0,g.useState)(!0),[k,A]=(0,g.useState)("appointments");(0,g.useEffect)(()=>{S()},[]);let S=async()=>{try{T(!0),b();let e=await d.q.getAll();v(e);let t=e.map(e=>({lawyer:e,appointmentsCount:0,completedWillsCount:0,averageRating:e.rating||0,confirmationRate:0}));w(t)}catch(e){f(e)}finally{T(!1)}},E=[...N].sort((e,t)=>{switch(k){case"appointments":return t.appointmentsCount-e.appointmentsCount;case"completed":return t.completedWillsCount-e.completedWillsCount;case"rating":return(t.averageRating||0)-(e.averageRating||0);default:return 0}});return C?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-gray-500",children:t("loading")})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(h.default,{href:"/lawyer-notary",children:(0,a.jsx)("button",{className:"p-2 hover:bg-gray-100 rounded-md",children:(0,a.jsx)(p.Z,{className:"w-5 h-5"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e("title")})]}),n&&(0,a.jsx)(c.X,{error:n,onDismiss:b,onRetry:S,showRetry:!0}),(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>A("appointments"),className:"px-4 py-2 rounded-md text-sm font-medium ".concat("appointments"===k?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e("byAppointments")}),(0,a.jsx)("button",{onClick:()=>A("completed"),className:"px-4 py-2 rounded-md text-sm font-medium ".concat("completed"===k?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e("byCompleted")}),(0,a.jsx)("button",{onClick:()=>A("rating"),className:"px-4 py-2 rounded-md text-sm font-medium ".concat("rating"===k?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e("byRating")})]}),(0,a.jsx)(s.j,{onExport:()=>(0,u.li)(j),disabled:0===j.length,label:e("exportToCSV")})]})})}),(0,a.jsx)("div",{className:"grid gap-4",children:0===E.length?(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"p-12 text-center",children:(0,a.jsx)("p",{className:"text-gray-500",children:e("noData")})})}):E.map(t=>{var n;return(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null===(n=t.lawyer.user)||void 0===n?void 0:n.email)||"N/A"}),(0,a.jsx)(r.O,{status:t.lawyer.status}),(0,a.jsx)(i._,{licenseType:t.lawyer.licenseType})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e("appointments")}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:t.appointmentsCount})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e("completed")}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:t.completedWillsCount})]})]}),t.averageRating&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e("rating")}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[t.averageRating.toFixed(1),"/5"]})]})]}),t.confirmationRate&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 text-purple-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e("confirmed")}),(0,a.jsxs)("p",{className:"text-lg font-semibold",children:[t.confirmationRate.toFixed(0),"%"]})]})]})]})]}),(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)(h.default,{href:"/lawyer-notary/".concat(t.lawyer.id),children:(0,a.jsx)("button",{className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:e("details")})})})]})})},t.lawyer.id)})})]})}},7432:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var a=n(7437),s=n(1171),i=n(2095),r=n(614);function l(e){let{onExport:t,disabled:n=!1,label:l}=e,c=(0,r.T_)("statistics"),o=l||c("exportToCSV");return(0,a.jsxs)(s.z,{variant:"outline",onClick:t,disabled:n,children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),o]})}},8761:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var a=n(7437),s=n(3448),i=n(614);let r={LAWYER:{className:"bg-blue-100 text-blue-800 border-blue-200",key:"lawyer"},NOTARY:{className:"bg-purple-100 text-purple-800 border-purple-200",key:"notary"},BOTH:{className:"bg-indigo-100 text-indigo-800 border-indigo-200",key:"both"}};function l(e){let{licenseType:t,className:n}=e,l=(0,i.T_)("licenseType"),c=r[t];return(0,a.jsx)("span",{className:(0,s.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",c.className,n),children:l(c.key)})}},707:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var a=n(1875);class s{async request(e,t){return(0,a.N)(e,t)}async getAll(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.licenseType)&&t.append("licenseType",e.licenseType),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.postalCode)&&t.append("postalCode",e.postalCode);let n=t.toString();return this.request("/lawyer-notary".concat(n?"?".concat(n):""))}async getOne(e){return this.request("/lawyer-notary/".concat(e))}async create(e){return this.request("/lawyer-notary",{method:"POST",body:JSON.stringify(e)})}async update(e,t){return this.request("/lawyer-notary/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async updateStatus(e,t,n){return this.request("/lawyer-notary/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t,comment:n})})}async delete(e){return this.request("/lawyer-notary/".concat(e),{method:"DELETE"})}}let i=new s},7671:function(e,t,n){"use strict";function a(e,t,n){if(0===e.length){alert("No data to export");return}let a=Object.keys(e[0]),s=new Blob(["\uFEFF"+[a.map(e=>(null==n?void 0:n[e])||String(e)).join(","),...e.map(e=>a.map(t=>{let n=e[t];if(null==n)return"";let a=String(n);return a.includes(",")||a.includes('"')||a.includes("\n")?'"'.concat(a.replace(/"/g,'""'),'"'):a}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),r=URL.createObjectURL(s);i.setAttribute("href",r),i.setAttribute("download","".concat(t,"_").concat(new Date().toISOString().split("T")[0],".csv")),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}function s(e){a(e.map(e=>{var t;return{email:(null===(t=e.user)||void 0===t?void 0:t.email)||"",licenseNumber:e.licenseNumber,licenseType:e.licenseType,status:e.status,organization:e.organization||"",specialization:e.specialization||"",yearsOfExperience:e.yearsOfExperience||"",officePostalCode:e.officePostalCode,officeAddress:e.officeAddress,phone:e.phone||"",createdAt:new Date(e.createdAt).toLocaleDateString("de-DE")}}),"lawyers",{email:"Email",licenseNumber:"License Number",licenseType:"License Type",status:"Status",organization:"Organization",specialization:"Specialization",yearsOfExperience:"Years of Experience",officePostalCode:"Postal Code",officeAddress:"Office Address",phone:"Phone",createdAt:"Created At"})}function i(e){a(e.map(e=>{var t,n;return{id:e.id.slice(0,8),clientEmail:(null===(t=e.client)||void 0===t?void 0:t.email)||"",lawyerLicense:(null===(n=e.lawyerNotary)||void 0===n?void 0:n.licenseNumber)||"",appointmentDate:new Date(e.appointmentDate).toLocaleDateString("de-DE"),appointmentTime:e.appointmentTime,location:e.location,status:e.status,createdAt:new Date(e.createdAt).toLocaleDateString("de-DE")}}),"appointments",{id:"Request ID",clientEmail:"Client Email",lawyerLicense:"Lawyer License",appointmentDate:"Appointment Date",appointmentTime:"Appointment Time",location:"Location",status:"Status",createdAt:"Created At"})}n.d(t,{D8:function(){return i},li:function(){return s}})},1978:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(6241).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2412:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(6241).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2095:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(6241).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},450:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(6241).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])}},function(e){e.O(0,[442,648,920,907,971,117,744],function(){return e(e.s=1773)}),_N_E=e.O()}]);