(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{9030:function(e,s,t){Promise.resolve().then(t.bind(t,2974))},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},2974:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var a=t(7437),n=t(2265),r=t(9376),c=t(707),l=t(757),i=t(1171),d=t(8023),u=t(9427),o=t(8761),x=t(7951),m=t(7648),h=t(1978),y=t(9975),p=t(5580),f=t(2412),j=t(5608),N=t(3693);function g(){var e;let s=(0,r.useParams)(),t=(0,r.useRouter)(),g=s.id,{error:v,handleError:b,clearError:w}=(0,x.U)(),[k,Z]=(0,n.useState)(null),[E,P]=(0,n.useState)(!0);(0,n.useEffect)(()=>{g&&C()},[g]);let C=async()=>{try{P(!0),w();let e=await c.q.getOne(g);Z(e)}catch(e){b(e)}finally{P(!1)}},z=async e=>{if(confirm('Change status to "'.concat(e,'"?')))try{w(),await c.q.updateStatus(g,e),C()}catch(e){b(e)}},T=async()=>{if(confirm("Are you sure you want to delete this profile?"))try{w(),await c.q.delete(g),t.push("/lawyer-notary")}catch(e){b(e)}};return E?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Загрузка..."})}):k||v?(0,a.jsxs)("div",{className:"space-y-6",children:[v&&(0,a.jsx)(d.X,{error:v,onDismiss:w,onRetry:C,showRetry:!0}),!k&&v&&(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)(m.default,{href:"/lawyer-notary",children:(0,a.jsx)(i.z,{className:"mt-4",children:"Вернуться к списку"})})}),k&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(m.default,{href:"/lawyer-notary",children:(0,a.jsx)(i.z,{variant:"ghost",size:"icon",children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Профиль адвоката/нотариуса"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(m.default,{href:"/lawyer-notary/".concat(g,"/edit"),children:(0,a.jsxs)(i.z,{variant:"outline",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Редактировать"]})}),(0,a.jsxs)(i.z,{variant:"destructive",onClick:T,children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Удалить"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Данные пользователя"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Email:"}),(0,a.jsx)("p",{className:"text-gray-900",children:(null===(e=k.user)||void 0===e?void 0:e.email)||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Статус:"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(u.O,{status:k.status})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Создан:"}),(0,a.jsx)("p",{className:"text-gray-900",children:new Date(k.createdAt).toLocaleString("ru-RU")})]})]})]})}),(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Профессиональная информация"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Тип лицензии:"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(o._,{licenseType:k.licenseType})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Номер лицензии:"}),(0,a.jsx)("p",{className:"text-gray-900",children:k.licenseNumber})]}),k.organization&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Организация:"}),(0,a.jsx)("p",{className:"text-gray-900",children:k.organization})]}),k.specialization&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Специализация:"}),(0,a.jsx)("p",{className:"text-gray-900",children:k.specialization})]}),k.yearsOfExperience&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Годы опыта:"}),(0,a.jsx)("p",{className:"text-gray-900",children:k.yearsOfExperience})]})]})]})}),(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Контактная информация"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Почтовый индекс:"}),(0,a.jsx)("p",{className:"text-gray-900",children:k.officePostalCode})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Адрес офиса:"}),(0,a.jsx)("p",{className:"text-gray-900",children:k.officeAddress})]}),k.phone&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Телефон:"}),(0,a.jsx)("p",{className:"text-gray-900",children:k.phone})]})]})]})}),(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Изменение статуса"}),(0,a.jsxs)("div",{className:"space-y-2",children:["APPROVED"!==k.status&&(0,a.jsxs)(i.z,{variant:"outline",className:"w-full justify-start",onClick:()=>z("APPROVED"),children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Одобрить"]}),"REJECTED"!==k.status&&(0,a.jsxs)(i.z,{variant:"outline",className:"w-full justify-start",onClick:()=>z("REJECTED"),children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Отклонить"]}),"PENDING"!==k.status&&(0,a.jsxs)(i.z,{variant:"outline",className:"w-full justify-start",onClick:()=>z("PENDING"),children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Вернуть на рассмотрение"]})]})]})})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Профиль не найден"}),(0,a.jsx)(m.default,{href:"/lawyer-notary",children:(0,a.jsx)(i.z,{className:"mt-4",children:"Вернуться к списку"})})]})}},8761:function(e,s,t){"use strict";t.d(s,{_:function(){return l}});var a=t(7437),n=t(3448),r=t(614);let c={LAWYER:{className:"bg-blue-100 text-blue-800 border-blue-200",key:"lawyer"},NOTARY:{className:"bg-purple-100 text-purple-800 border-purple-200",key:"notary"},BOTH:{className:"bg-indigo-100 text-indigo-800 border-indigo-200",key:"both"}};function l(e){let{licenseType:s,className:t}=e,l=(0,r.T_)("licenseType"),i=c[s];return(0,a.jsx)("span",{className:(0,n.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border",i.className,t),children:l(i.key)})}},707:function(e,s,t){"use strict";t.d(s,{q:function(){return r}});var a=t(1875);class n{async request(e,s){return(0,a.N)(e,s)}async getAll(e){let s=new URLSearchParams;(null==e?void 0:e.status)&&s.append("status",e.status),(null==e?void 0:e.licenseType)&&s.append("licenseType",e.licenseType),(null==e?void 0:e.search)&&s.append("search",e.search),(null==e?void 0:e.postalCode)&&s.append("postalCode",e.postalCode);let t=s.toString();return this.request("/lawyer-notary".concat(t?"?".concat(t):""))}async getOne(e){return this.request("/lawyer-notary/".concat(e))}async create(e){return this.request("/lawyer-notary",{method:"POST",body:JSON.stringify(e)})}async update(e,s){return this.request("/lawyer-notary/".concat(e),{method:"PATCH",body:JSON.stringify(s)})}async updateStatus(e,s,t){return this.request("/lawyer-notary/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:s,comment:t})})}async delete(e){return this.request("/lawyer-notary/".concat(e),{method:"DELETE"})}}let r=new n},1978:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6241).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2412:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6241).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5608:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6241).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},3693:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6241).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9975:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6241).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},5580:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(6241).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[442,648,920,907,971,117,744],function(){return e(e.s=9030)}),_N_E=e.O()}]);