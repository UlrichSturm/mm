(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[66],{1303:function(e,t,s){Promise.resolve().then(s.bind(s,1581))},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},1581:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437),a=s(2265),n=s(9376),l=s(707),o=s(757),i=s(1171),c=s(2827),u=s(8023),d=s(7951),h=s(7648),m=s(1978);function f(){let e=(0,n.useRouter)(),{error:t,handleError:s,clearError:f}=(0,d.U)(),[x,g]=(0,a.useState)(!1),[p,b]=(0,a.useState)({userId:"",licenseNumber:"",licenseType:"LAWYER",organization:"",specialization:"",yearsOfExperience:void 0,officePostalCode:"",officeAddress:"",phone:""}),y=async t=>{t.preventDefault(),f();try{g(!0);let t=await l.q.create(p);e.push("/lawyer-notary/".concat(t.id))}catch(e){s(e)}finally{g(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(h.default,{href:"/lawyer-notary",children:(0,r.jsx)(i.z,{variant:"ghost",size:"icon",children:(0,r.jsx)(m.Z,{className:"w-4 h-4"})})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Создать профиль адвоката/нотариуса"})]}),t&&(0,r.jsx)(u.X,{error:t,onDismiss:f,showRetry:!1}),(0,r.jsx)(o.Zb,{children:(0,r.jsx)(o.aY,{className:"p-6",children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID пользователя *"}),(0,r.jsx)(c.I,{required:!0,value:p.userId,onChange:e=>b({...p,userId:e.target.value}),placeholder:"Введите ID пользователя"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Номер лицензии *"}),(0,r.jsx)(c.I,{required:!0,value:p.licenseNumber,onChange:e=>b({...p,licenseNumber:e.target.value}),placeholder:"Номер лицензии"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Тип лицензии *"}),(0,r.jsxs)("select",{required:!0,value:p.licenseType,onChange:e=>b({...p,licenseType:e.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm",children:[(0,r.jsx)("option",{value:"LAWYER",children:"Адвокат"}),(0,r.jsx)("option",{value:"NOTARY",children:"Нотариус"}),(0,r.jsx)("option",{value:"BOTH",children:"Оба"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Организация"}),(0,r.jsx)(c.I,{value:p.organization,onChange:e=>b({...p,organization:e.target.value}),placeholder:"Название организации"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Специализация"}),(0,r.jsx)(c.I,{value:p.specialization,onChange:e=>b({...p,specialization:e.target.value}),placeholder:"Специализация"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Годы опыта"}),(0,r.jsx)(c.I,{type:"number",value:p.yearsOfExperience||"",onChange:e=>b({...p,yearsOfExperience:e.target.value?parseInt(e.target.value):void 0}),placeholder:"Годы опыта"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Почтовый индекс офиса *"}),(0,r.jsx)(c.I,{required:!0,value:p.officePostalCode,onChange:e=>b({...p,officePostalCode:e.target.value}),placeholder:"Почтовый индекс"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Полный адрес офиса *"}),(0,r.jsx)(c.I,{required:!0,value:p.officeAddress,onChange:e=>b({...p,officeAddress:e.target.value}),placeholder:"Полный адрес офиса"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Телефон"}),(0,r.jsx)(c.I,{value:p.phone,onChange:e=>b({...p,phone:e.target.value}),placeholder:"Телефон"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(i.z,{type:"submit",disabled:x,children:x?"Создание...":"Создать профиль"}),(0,r.jsx)(h.default,{href:"/lawyer-notary",children:(0,r.jsx)(i.z,{type:"button",variant:"outline",children:"Отмена"})})]})]})})})]})}},8023:function(e,t,s){"use strict";s.d(t,{X:function(){return h}});var r=s(7437),a=s(2265),n=s(7816),l=s(6241);let o=(0,l.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),i=(0,l.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var c=s(1171),u=s(3448);let d={error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"text-red-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"text-yellow-600"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"text-blue-600"}};function h(e){let{error:t,onDismiss:s,onRetry:l,className:h,variant:m="error",autoDismiss:f,showRetry:x=!1}=e,[g,p]=(0,a.useState)(!!t);if((0,a.useEffect)(()=>{p(!!t)},[t]),(0,a.useEffect)(()=>{if(f&&t&&g){let e=setTimeout(()=>{p(!1),null==s||s()},1e3*f);return()=>clearTimeout(e)}},[t,f,g,s]),!t||!g)return null;let b=t instanceof Error?t.message:t,y=d[m];return(0,r.jsx)("div",{className:(0,u.cn)("relative rounded-md border p-4 animate-in slide-in-from-top-2",y.bg,y.border,h),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(n.Z,{className:(0,u.cn)("h-5 w-5 flex-shrink-0 mt-0.5",y.icon)}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:(0,u.cn)("text-sm font-medium",y.text),children:"error"===m?"Error":"warning"===m?"Warning":"Information"}),(0,r.jsx)("p",{className:(0,u.cn)("mt-1 text-sm",y.text.replace("800","700")),children:b}),x&&l&&(0,r.jsxs)(c.z,{variant:"outline",size:"sm",onClick:l,className:"mt-3",children:[(0,r.jsx)(o,{className:"w-3 h-3 mr-2"}),"Retry"]})]}),(0,r.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[l&&!x&&(0,r.jsx)("button",{onClick:l,className:(0,u.cn)("flex-shrink-0 hover:opacity-80",y.icon),title:"Retry",children:(0,r.jsx)(o,{className:"h-4 w-4"})}),s&&(0,r.jsx)("button",{onClick:()=>{p(!1),s()},className:(0,u.cn)("flex-shrink-0 hover:opacity-80",y.icon),title:"Close",children:(0,r.jsx)(i,{className:"h-4 w-4"})})]})]})})}},2827:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var r=s(7437),a=s(2265),n=s(3448);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});l.displayName="Input"},7951:function(e,t,s){"use strict";s.d(t,{U:function(){return a}});var r=s(2265);function a(){let[e,t]=(0,r.useState)(null),s=(0,r.useCallback)(()=>{t(null)},[]),a=(0,r.useCallback)(e=>{t(function(e){let t=function(e){if(e instanceof Error){let t=e.message,s=t.match(/status:\s*(\d+)/i);return{message:t,status:s?parseInt(s[1]):void 0}}return"string"==typeof e?{message:e}:e&&"object"==typeof e?{message:e.message||e.error||"An unknown error occurred",status:e.status||e.statusCode,code:e.code,details:e.details}:{message:"An unknown error occurred"}}(e);return 401===t.status?"Authorization required. Please log in.":403===t.status?"You do not have permission to perform this action.":404===t.status?"Requested resource not found.":500===t.status?"Server error. Please try again later.":503===t.status?"Service temporarily unavailable. Please try again later.":t.message.includes("Failed to fetch")||t.message.includes("NetworkError")?"Connection error. Please ensure the backend server is running on http://localhost:3001":t.message}(e))},[]);return{error:e,setError:t,clearError:s,handleError:a}}},707:function(e,t,s){"use strict";s.d(t,{q:function(){return n}});var r=s(1875);class a{async request(e,t){return(0,r.N)(e,t)}async getAll(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.licenseType)&&t.append("licenseType",e.licenseType),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.postalCode)&&t.append("postalCode",e.postalCode);let s=t.toString();return this.request("/lawyer-notary".concat(s?"?".concat(s):""))}async getOne(e){return this.request("/lawyer-notary/".concat(e))}async create(e){return this.request("/lawyer-notary",{method:"POST",body:JSON.stringify(e)})}async update(e,t){return this.request("/lawyer-notary/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async updateStatus(e,t,s){return this.request("/lawyer-notary/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t,comment:s})})}async delete(e){return this.request("/lawyer-notary/".concat(e),{method:"DELETE"})}}let n=new a},1875:function(e,t,s){"use strict";s.d(t,{N:function(){return a}});var r=s(5020);async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat("http://localhost:3001","/api").concat(e),a=(0,r.LP)()||localStorage.getItem("authToken")||localStorage.getItem("auth_token")||null,n=new Headers(t.headers);n.set("Content-Type","application/json"),a&&n.set("Authorization","Bearer ".concat(a));let l=await fetch(s,{...t,headers:n});if(!l.ok){let e;if(401===l.status)throw window.location.pathname.includes("/auth/login")||(localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),window.location.href="/auth/login"),Error("Session expired. Please log in again.");try{e=await l.json()}catch(t){e={message:"HTTP ".concat(l.status,": ").concat(l.statusText)}}throw Error(e.message||"Request failed with status ".concat(l.status))}return l.json()}},1978:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(6241).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},function(e){e.O(0,[442,648,920,971,117,744],function(){return e(e.s=1303)}),_N_E=e.O()}]);