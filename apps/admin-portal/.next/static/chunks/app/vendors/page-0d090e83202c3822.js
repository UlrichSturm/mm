(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{6983:function(e,t,s){Promise.resolve().then(s.bind(s,1562))},1562:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),r=s(2265),i=s(6921),n=s(757),l=s(1171),c=s(2827),d=s(9427),o=s(614),u=s(7648),x=s(6111),m=s(9991),h=s(8023),f=s(7951);function p(){let e=(0,o.T_)("vendors"),t=(0,o.T_)("common"),{error:s,handleError:p,clearError:y}=(0,f.U)(),[N,g]=(0,r.useState)([]),[v,j]=(0,r.useState)(!0),[w,b]=(0,r.useState)({}),[E,k]=(0,r.useState)("");(0,r.useEffect)(()=>{C()},[w]);let C=async()=>{try{j(!0),y();let e=await i.G.getAll(w);if(E){let t=E.toLowerCase();e=e.filter(e=>e.businessName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t))}g(e)}catch(e){p(e)}finally{j(!1)}},P=()=>{C()},D=e=>{b(t=>({...t,status:e}))};return v?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-gray-500",children:t("loading")})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e("title")}),(0,a.jsx)(u.default,{href:"/vendors/create",children:(0,a.jsxs)(l.z,{children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),e("create")]})})]}),s&&(0,a.jsx)(h.X,{error:s,onDismiss:y,variant:"error"}),(0,a.jsx)(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(c.I,{type:"text",placeholder:e("search"),value:E,onChange:e=>k(e.target.value),onKeyPress:e=>"Enter"===e.key&&P(),className:"pl-10"})]})}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>D(void 0),className:"bg-white",children:e("allStatuses")}),(0,a.jsx)(l.z,{variant:"PENDING"===w.status?"default":"outline",size:"sm",onClick:()=>D("PENDING"),className:"PENDING"===w.status?"":"bg-white",children:t("pending")}),(0,a.jsx)(l.z,{variant:"APPROVED"===w.status?"default":"outline",size:"sm",onClick:()=>D("APPROVED"),className:"APPROVED"===w.status?"":"bg-white",children:t("approved")}),(0,a.jsx)(l.z,{variant:"REJECTED"===w.status?"default":"outline",size:"sm",onClick:()=>D("REJECTED"),className:"REJECTED"===w.status?"":"bg-white",children:t("rejected")}),(0,a.jsxs)(l.z,{onClick:P,variant:"outline",size:"sm",className:"bg-white",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),t("search")]})]})]}),0===N.length?(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:e("noVendors")}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("businessName")}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("email")}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("status")}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("registrationDate")}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("actions")})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.businessName})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.email})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)(d.O,{status:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.registrationDate).toLocaleDateString("ru-RU")})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsx)(u.default,{href:"/vendors/".concat(e.id),className:"text-blue-600 hover:text-blue-900",children:t("view")})})]},e.id))})]})})]})})]})}},2827:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var a=s(7437),r=s(2265),i=s(3448);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},6921:function(e,t,s){"use strict";s.d(t,{G:function(){return i}});var a=s(1875);class r{async request(e,t){return(0,a.N)(e,t)}async getAll(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.append("status",e.status);let s=t.toString();return this.request("/vendors".concat(s?"?".concat(s):""))}async getById(e){return this.request("/vendors/".concat(e))}async create(e){return this.request("/vendors",{method:"POST",body:JSON.stringify(e)})}async update(e,t){return this.request("/vendors/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async updateStatus(e,t){return this.request("/vendors/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}async delete(e){await this.request("/vendors/".concat(e),{method:"DELETE"})}}let i=new r},6111:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6241).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9991:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(6241).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[442,648,920,907,971,117,744],function(){return e(e.s=6983)}),_N_E=e.O()}]);