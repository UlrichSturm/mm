(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{1127:function(e,t,s){Promise.resolve().then(s.bind(s,5942))},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},5942:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437),n=s(2265),a=s(9376),o=s(6921),i=s(757),l=s(1171),d=s(2827),c=s(614),u=s(1978),m=s(7648),p=s(8023);function h(){let e=(0,a.useRouter)(),t=(0,c.T_)("vendors"),s=(0,c.T_)("common"),[h,f]=(0,n.useState)(!1),[g,y]=(0,n.useState)(null),[v,x]=(0,n.useState)({password:"",businessName:"",email:"",phone:"",address:"",postalCode:""}),b=async t=>{t.preventDefault(),y(null),f(!0);try{if(!v.password||!v.businessName||!v.email)throw Error("Please fill in all required fields");if(v.password.length<8)throw Error("Password must be at least 8 characters long");await o.G.create(v),e.push("/vendors")}catch(e){y(e instanceof Error?e:Error(String(e)))}finally{f(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(m.default,{href:"/vendors",children:(0,r.jsx)(l.z,{variant:"outline",size:"icon",children:(0,r.jsx)(u.Z,{className:"w-4 h-4"})})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:t("create")})]}),g&&(0,r.jsx)(p.X,{error:g,onDismiss:()=>y(null),variant:"error"}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Vendor Information"})}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(d.I,{id:"businessName",type:"text",required:!0,value:v.businessName,onChange:e=>x({...v,businessName:e.target.value}),placeholder:"Enter business name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(d.I,{id:"email",type:"email",required:!0,value:v.email,onChange:e=>x({...v,email:e.target.value}),placeholder:"Enter email address"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"A user account will be created in Keycloak with this email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)(d.I,{id:"password",type:"password",required:!0,value:v.password,onChange:e=>x({...v,password:e.target.value}),placeholder:"Enter password (min 8 characters)",minLength:8}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Password for the vendor account. User ID (UUID) will be generated automatically in Keycloak."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,r.jsx)(d.I,{id:"phone",type:"tel",value:v.phone||"",onChange:e=>x({...v,phone:e.target.value}),placeholder:"Enter phone number"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,r.jsx)(d.I,{id:"address",type:"text",value:v.address||"",onChange:e=>x({...v,address:e.target.value}),placeholder:"Enter address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),(0,r.jsx)(d.I,{id:"postalCode",type:"text",value:v.postalCode||"",onChange:e=>x({...v,postalCode:e.target.value}),placeholder:"Enter postal code"})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(l.z,{type:"submit",disabled:h,children:s(h?"loading":"create")}),(0,r.jsx)(m.default,{href:"/vendors",children:(0,r.jsx)(l.z,{type:"button",variant:"outline",children:s("cancel")})})]})]})})]})]})}},8023:function(e,t,s){"use strict";s.d(t,{X:function(){return m}});var r=s(7437),n=s(2265),a=s(7816),o=s(6241);let i=(0,o.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),l=(0,o.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var d=s(1171),c=s(3448);let u={error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",icon:"text-red-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",icon:"text-yellow-600"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",icon:"text-blue-600"}};function m(e){let{error:t,onDismiss:s,onRetry:o,className:m,variant:p="error",autoDismiss:h,showRetry:f=!1}=e,[g,y]=(0,n.useState)(!!t);if((0,n.useEffect)(()=>{y(!!t)},[t]),(0,n.useEffect)(()=>{if(h&&t&&g){let e=setTimeout(()=>{y(!1),null==s||s()},1e3*h);return()=>clearTimeout(e)}},[t,h,g,s]),!t||!g)return null;let v=t instanceof Error?t.message:t,x=u[p];return(0,r.jsx)("div",{className:(0,c.cn)("relative rounded-md border p-4 animate-in slide-in-from-top-2",x.bg,x.border,m),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(a.Z,{className:(0,c.cn)("h-5 w-5 flex-shrink-0 mt-0.5",x.icon)}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:(0,c.cn)("text-sm font-medium",x.text),children:"error"===p?"Error":"warning"===p?"Warning":"Information"}),(0,r.jsx)("p",{className:(0,c.cn)("mt-1 text-sm",x.text.replace("800","700")),children:v}),f&&o&&(0,r.jsxs)(d.z,{variant:"outline",size:"sm",onClick:o,className:"mt-3",children:[(0,r.jsx)(i,{className:"w-3 h-3 mr-2"}),"Retry"]})]}),(0,r.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[o&&!f&&(0,r.jsx)("button",{onClick:o,className:(0,c.cn)("flex-shrink-0 hover:opacity-80",x.icon),title:"Retry",children:(0,r.jsx)(i,{className:"h-4 w-4"})}),s&&(0,r.jsx)("button",{onClick:()=>{y(!1),s()},className:(0,c.cn)("flex-shrink-0 hover:opacity-80",x.icon),title:"Close",children:(0,r.jsx)(l,{className:"h-4 w-4"})})]})]})})}},2827:function(e,t,s){"use strict";s.d(t,{I:function(){return o}});var r=s(7437),n=s(2265),a=s(3448);let o=n.forwardRef((e,t)=>{let{className:s,type:n,...o}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...o})});o.displayName="Input"},1875:function(e,t,s){"use strict";s.d(t,{N:function(){return n}});var r=s(5020);async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat("http://localhost:3001","/api").concat(e),n=(0,r.LP)()||localStorage.getItem("authToken")||localStorage.getItem("auth_token")||null,a=new Headers(t.headers);a.set("Content-Type","application/json"),n&&a.set("Authorization","Bearer ".concat(n));let o=await fetch(s,{...t,headers:a});if(!o.ok){let e;if(401===o.status)throw window.location.pathname.includes("/auth/login")||(localStorage.removeItem("authToken"),localStorage.removeItem("auth_token"),window.location.href="/auth/login"),Error("Session expired. Please log in again.");try{e=await o.json()}catch(t){e={message:"HTTP ".concat(o.status,": ").concat(o.statusText)}}throw Error(e.message||"Request failed with status ".concat(o.status))}return o.json()}},6921:function(e,t,s){"use strict";s.d(t,{G:function(){return a}});var r=s(1875);class n{async request(e,t){return(0,r.N)(e,t)}async getAll(e){let t=new URLSearchParams;(null==e?void 0:e.status)&&t.append("status",e.status);let s=t.toString();return this.request("/vendors".concat(s?"?".concat(s):""))}async getById(e){return this.request("/vendors/".concat(e))}async create(e){return this.request("/vendors",{method:"POST",body:JSON.stringify(e)})}async update(e,t){return this.request("/vendors/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async updateStatus(e,t){return this.request("/vendors/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}async delete(e){await this.request("/vendors/".concat(e),{method:"DELETE"})}}let a=new n},614:function(e,t,s){"use strict";s.d(t,{Kd:function(){return i},i_:function(){return l},T_:function(){return d}});var r=JSON.parse('{"common":{"loading":"Loading...","error":"Error","success":"Success","save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","view":"View","create":"Create","search":"Search","filter":"Filter","actions":"Actions","status":"Status","logout":"Logout","pending":"Pending","approved":"Approved","rejected":"Rejected","phone":"Phone","address":"Address","postalCode":"Postal Code","createdAt":"Created At","approve":"Approve","reject":"Reject","setPending":"Set Pending"},"nav":{"dashboard":"Dashboard","lawyers":"Lawyers/Notaries","vendors":"Vendors","statistics":"Statistics","appointments":"Appointments","executions":"Executions"},"dashboard":{"title":"Dashboard","totalLawyers":"Total Lawyers","totalVendors":"Total Vendors","approved":"Approved","pending":"Pending","rejected":"Rejected","willAppointments":"Will Appointments","willExecutions":"Will Executions","createProfile":"Create Profile","latestProfiles":"Latest Profiles","latestLawyers":"Latest Lawyers","latestVendors":"Latest Vendors","noProfiles":"No profiles found","noLawyers":"No lawyers found","noVendors":"No vendors found","loadError":"Failed to load data"},"lawyers":{"title":"Lawyers & Notaries","create":"Create Lawyer/Notary","search":"Search by name, email, or license number...","allStatuses":"All Statuses","allTypes":"All Types","noLawyers":"No lawyers found","businessName":"Organization","email":"Email","licenseNumber":"License Number","licenseType":"License Type","registrationDate":"Registration Date"},"vendors":{"title":"Vendors","create":"Create Vendor","search":"Search by business name or email...","allStatuses":"All Statuses","noVendors":"No vendors found","businessName":"Business Name","email":"Email","registrationDate":"Registration Date","vendorNotFound":"Vendor not found","backToList":"Back to list","vendorInformation":"Vendor Information","phone":"Phone","userId":"User ID","userIdDescription":"Keycloak User ID (UUID)","additionalInfo":"Additional Information","approve":"Approve","reject":"Reject","setPending":"Set Pending"},"auth":{"login":"Login","email":"Email","password":"Password","enterCredentials":"Enter your credentials to access the dashboard","loginButton":"Login","loggingIn":"Logging in...","invalidCredentials":"Invalid email or password","connectionError":"Connection error. Please ensure the backend server is running on http://localhost:3001","sessionExpired":"Session expired. Please log in again.","useAdminCredentials":"Use administrator credentials"},"status":{"pending":"Pending","approved":"Approved","rejected":"Rejected"},"licenseType":{"lawyer":"Lawyer","notary":"Notary","both":"Lawyer & Notary"},"errors":{"unauthorized":"Authorization required. Please log in.","forbidden":"You don\'t have permission to perform this action.","notFound":"Requested resource not found.","serverError":"Server error. Please try again later.","serviceUnavailable":"Service temporarily unavailable. Please try again later.","connectionError":"Connection error. Please ensure the backend server is running on http://localhost:3001"},"statistics":{"title":"Statistics by Lawyers","byAppointments":"By Appointments","byCompleted":"By Completed","byRating":"By Rating","noData":"No data to display","appointments":"Appointments","completed":"Completed","rating":"Rating","confirmed":"Confirmed","details":"Details","exportToCSV":"Export to CSV"},"appointments":{"allStatuses":"All Statuses","noAppointments":"No appointments found"}}'),n=JSON.parse('{"common":{"loading":"Загрузка...","error":"Ошибка","success":"Успешно","save":"Сохранить","cancel":"Отмена","delete":"Удалить","edit":"Редактировать","view":"Просмотр","create":"Создать","search":"Поиск","filter":"Фильтр","actions":"Действия","status":"Статус","logout":"Выход","pending":"Ожидает","approved":"Одобрен","rejected":"Отклонён"},"nav":{"dashboard":"Дашборд","lawyers":"Адвокаты/Нотариусы","vendors":"Vendors","statistics":"Статистика","appointments":"Заявки","executions":"Исполнение"},"dashboard":{"title":"Дашборд","totalLawyers":"Всего адвокатов","approved":"Одобрено","pending":"Ожидает","rejected":"Отклонено","willAppointments":"Заявок на завещания","willExecutions":"Исполняемых завещаний","createProfile":"Создать профиль","latestProfiles":"Последние профили","noProfiles":"Профили не найдены","loadError":"Ошибка загрузки данных"},"lawyers":{"title":"Адвокаты и Нотариусы","create":"Создать адвоката/нотариуса","search":"Поиск по имени, email или номеру лицензии...","allStatuses":"Все статусы","allTypes":"Все типы","noLawyers":"Адвокаты не найдены","businessName":"Название организации","email":"Email","licenseNumber":"Номер лицензии","licenseType":"Тип лицензии","registrationDate":"Дата регистрации"},"vendors":{"title":"Поставщики","create":"Создать поставщика","search":"Поиск по названию бизнеса или email...","allStatuses":"Все статусы","noVendors":"Поставщики не найдены","businessName":"Название бизнеса","email":"Email","registrationDate":"Дата регистрации","vendorNotFound":"Поставщик не найден","backToList":"Вернуться к списку","vendorInformation":"Информация о поставщике","phone":"Телефон","userId":"ID пользователя","userIdDescription":"ID пользователя Keycloak (UUID)","additionalInfo":"Дополнительная информация","approve":"Одобрить","reject":"Отклонить","setPending":"Установить ожидание"},"auth":{"login":"Вход","email":"Email","password":"Пароль","enterCredentials":"Введите ваши учётные данные для доступа к панели управления","loginButton":"Войти","loggingIn":"Вход...","invalidCredentials":"Неверный email или пароль","connectionError":"Ошибка подключения к серверу. Убедитесь, что бэкенд запущен на http://localhost:3001","sessionExpired":"Сессия истекла. Пожалуйста, войдите снова.","useAdminCredentials":"Используйте учётные данные администратора"},"status":{"pending":"Ожидает","approved":"Одобрен","rejected":"Отклонён"},"licenseType":{"lawyer":"Адвокат","notary":"Нотариус","both":"Адвокат и Нотариус"},"errors":{"unauthorized":"Необходима авторизация. Пожалуйста, войдите в систему.","forbidden":"У вас нет прав для выполнения этого действия.","notFound":"Запрашиваемый ресурс не найден.","serverError":"Ошибка сервера. Пожалуйста, попробуйте позже.","serviceUnavailable":"Сервис временно недоступен. Пожалуйста, попробуйте позже.","connectionError":"Ошибка подключения к серверу. Убедитесь, что бэкенд запущен на http://localhost:3001"},"statistics":{"title":"Статистика по адвокатам","byAppointments":"По заявкам","byCompleted":"По завершенным","byRating":"По рейтингу","noData":"Нет данных для отображения","appointments":"Заявок","completed":"Завершено","rating":"Рейтинг","confirmed":"Подтверждено","details":"Детали","exportToCSV":"Экспорт в CSV"},"appointments":{"allStatuses":"Все статусы","noAppointments":"Заявки не найдены"}}'),a=s(2265);let o={en:r,ru:n};function i(){return"ru"===localStorage.getItem("locale")?"ru":"en"}function l(e){localStorage.setItem("locale",e),window.location.reload()}function d(e){let[t,s]=(0,a.useState)(()=>i());return(0,a.useEffect)(()=>{let e=()=>{let e=i();e!==t&&s(e)};e();let r=setInterval(e,100);return window.addEventListener("storage",e),()=>{clearInterval(r),window.removeEventListener("storage",e)}},[t]),(0,a.useMemo)(()=>{let s=o[t]||o.en;return(r,n)=>{let a=e?"".concat(e,".").concat(r):r,i=a.split("."),l=s;for(let e of i)if(l&&"object"==typeof l&&e in l)l=l[e];else{l=void 0;break}if(void 0===l||"string"!=typeof l){let e=o.en;for(let t of i)if(e&&"object"==typeof e&&t in e)e=e[t];else{e=void 0;break}"string"==typeof e&&(l=e)}return"string"!=typeof l?(console.warn("[i18n] Translation not found for key: ".concat(a,", locale: ").concat(t)),a):n?Object.entries(n).reduce((e,t)=>{let[s,r]=t;return e.replace("{".concat(s,"}"),String(r))},l):l}},[t,e])}},1978:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(6241).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},function(e){e.O(0,[442,648,920,971,117,744],function(){return e(e.s=1127)}),_N_E=e.O()}]);