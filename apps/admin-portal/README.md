# Admin Portal - Memento Mori

Административная панель для управления адвокатами, нотариусами и завещаниями.

## Установка

```bash
cd apps/admin-portal
npm install
```

## Запуск

```bash
# Режим разработки
npm run dev

# Production сборка
npm run build
npm start
```

Приложение будет доступно на `http://localhost:3003`

## Учётные данные

**Email:** `admin@memento-mori.com`  
**Пароль:** `zPim^&LND5!TcOm@`

(См. файл `ADMIN_CREDENTIALS.md` в корне проекта)

## Структура страниц

### Аутентификация
- `/auth/login` - Страница входа в систему

### Дашборд
- `/dashboard` - Дашборд со статистикой по адвокатам

### Управление адвокатами/нотариусами
- `/lawyer-notary` - Список адвокатов/нотариусов с фильтрацией и поиском
- `/lawyer-notary/create` - Создание нового профиля
- `/lawyer-notary/[id]` - Детальный просмотр профиля
- `/lawyer-notary/[id]/edit` - Редактирование профиля

### Заявки и завещания
- `/wills/appointments` - Список всех заявок на завещания
- `/wills/data/[id]` - Просмотр данных завещания
- `/wills/executions` - Список исполняемых завещаний

## API

Приложение использует API на `http://localhost:3001` (настраивается через `NEXT_PUBLIC_API_URL`)

## Реализованная функциональность

### ✅ Приоритет 1: Управление профилями адвокатов
- ✅ Список адвокатов с фильтрацией по статусу и типу лицензии
- ✅ Поиск по email, ФИО, номеру лицензии
- ✅ Создание профиля адвоката/нотариуса
- ✅ Детальный просмотр профиля со всей информацией
- ✅ Редактирование профиля
- ✅ Изменение статуса (PENDING/APPROVED/REJECTED)
- ✅ Удаление профиля
- ✅ Дашборд со статистикой

### ✅ Приоритет 2: Просмотр заявок и завещаний
- ✅ Список всех заявок на завещания с фильтрацией
- ✅ Просмотр данных завещания (клиент, родственники, наследники, документы)
- ✅ Список исполняемых завещаний

### ✅ Аутентификация
- ✅ Страница логина
- ✅ Защита роутов (проверка авторизации)
- ✅ Хранение токена в localStorage
- ✅ Выход из системы

## Компоненты

### UI компоненты
- `Button` - Кнопка с вариантами стилей
- `Card`, `CardContent` - Карточки для контента
- `Input` - Поле ввода

### Shared компоненты
- `StatusBadge` - Бейдж статуса (PENDING/APPROVED/REJECTED)
- `LicenseTypeBadge` - Бейдж типа лицензии (LAWYER/NOTARY/BOTH)

## API клиенты

- `lawyerNotaryApi` - Работа с адвокатами/нотариусами
- `willsApi` - Работа с заявками и завещаниями

## Утилиты

- `auth.ts` - Функции для работы с аутентификацией
- `useAdminAuth` - Хук для проверки прав доступа

### ✅ Приоритет 3: Статистика и отчеты (частично)
- ✅ Расширенная статистика на дашборде
- ✅ Страница статистики по адвокатам с метриками
- ✅ Экспорт данных в CSV (адвокаты и заявки)
- ✅ Улучшенная обработка ошибок на всех страницах

## TODO (Дополнительно)

- [ ] Графики и визуализация данных
- [ ] История изменений профилей
- [ ] Уведомления
- [ ] Мобильная адаптация
- [ ] Экспорт в Excel (расширенный формат)

