# Epic 21: Lawyer/Notary Management

**Phase:** Phase 2  
**Portal:** Backend  
**Module:** LawyerNotaryModule  
**Epic ID:** E-021

---

## Описание

Управление адвокатами и нотариусами на платформе. Включает профили адвокатов, модерацию и геолокацию.

---

## Функциональность

- Создание профилей адвокатов/нотариусов
- Модерация адвокатов (PENDING → APPROVED/REJECTED)
- Геолокация адвокатов
- Лицензии и сертификаты
- Специализация адвокатов
- Интеграция с WillsModule

**Исключено из Phase 2:**
- Календарь и расписание (будет позже)
- Рейтинги адвокатов

---

## Зависимости

**Предшествующие эпики:**
- ✅ Epic 1: Backend Authentication (MUST)

**Требует завершения:**
- Epic 1 должен быть завершен (Auth)

**Блокирует:**
- Epic 20: Wills Management (нужны адвокаты для назначения)
- Epic 22: Geolocation (геолокация адвокатов)

---

## Приоритет (MoSCoW)

**Should Have** - Важный для Phase 2

Адвокаты нужны для завещаний, но не критичны для базовой работы платформы.

---

## Story Points

**Оценка:** 13 points

**Обоснование:**
- CRUD операции: 3 points
- Модерация: 2 points
- Геолокация: 3 points
- Лицензии: 2 points
- Интеграция: 3 points

---

## Последовательность разработки

**Порядок:** 21 (первый в Phase 2 для адвокатов, после Epic 1)

**Последовательность:**
1. Создание LawyerNotaryModule
2. CRUD операции
3. Модерация
4. Геолокация
5. Лицензии
6. Интеграция с WillsModule

---

## Параллельная разработка

**Возможна параллельная работа:**
- ✅ Может разрабатываться параллельно с Epic 19 (Escrow)
- ✅ Frontend может работать над UI параллельно

**Не может быть параллельной:**
- ❌ Epic 20 (Wills) не может начаться без этого

---

## Критерии готовности (Definition of Done)

- [ ] CRUD операции работают
- [ ] Модерация работает
- [ ] Геолокация работает
- [ ] Лицензии проверяются
- [ ] Интеграция с Wills работает
- [ ] Unit тесты написаны (покрытие > 80%)
- [ ] API документация обновлена
- [ ] Code review пройден

---

## User Stories (примеры)

1. **Как Lawyer**, я хочу создать профиль, чтобы получать заявки на завещания
2. **Как Admin**, я хочу модерировать адвокатов, чтобы контролировать качество
3. **Как Client**, я хочу найти адвоката по геолокации, чтобы оформить завещание

---

## Технические детали

**API Endpoints:**
- `POST /lawyer-notary` - Создание профиля (Admin)
- `GET /lawyer-notary` - Список адвокатов
- `GET /lawyer-notary/:id` - Детали адвоката
- `PATCH /lawyer-notary/:id/status` - Изменение статуса (Admin)

**Database:**
- LawyerNotaryProfile model (Prisma)
- LicenseType enum (LAWYER, NOTARY, BOTH)

---

## Примечания

Важный эпик для Phase 2. Блокирует завещания.

