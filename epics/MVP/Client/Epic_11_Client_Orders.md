# Epic 11: Client App - Orders

**Phase:** MVP  
**Portal:** Client App  
**Module:** Orders  
**Epic ID:** E-011

---

## Описание

Управление заказами в клиентском приложении. Включает создание заказов, корзину покупок и историю заказов.

---

## Функциональность

- Корзина покупок
- Создание заказа
- Просмотр истории заказов
- Детали заказа
- Статусы заказов
- Отмена заказа (если возможно)

**Исключено из MVP:**
- Повторный заказ
- Сохранение адресов доставки
- Промокоды и скидки

---

## Зависимости

**Предшествующие эпики:**
- ✅ Epic 5: Backend Orders (MUST)
- ✅ Epic 9: Client App - Authentication (MUST)
- ✅ Epic 10: Client App - Catalog (MUST)

**Требует завершения:**
- Epic 5 должен быть завершен (Backend API готов)
- Epic 9 должен быть завершен (Auth для создания заказов)
- Epic 10 должен быть завершен (Catalog для корзины)

**Блокирует:**
- Epic 12: Client App - Payments (платежи после заказа)

---

## Приоритет (MoSCoW)

**Must Have** - Критичный для MVP

Заказы - это основной бизнес-процесс. Без них клиенты не могут получить услуги.

---

## Story Points

**Оценка:** 13 points

**Обоснование:**
- Корзина покупок: 4 points
- Создание заказа: 3 points
- История заказов: 3 points
- Детали заказа: 2 points
- Интеграция с API: 1 point

---

## Последовательность разработки

**Порядок:** 11 (после Epic 5, 9, 10)

**Последовательность:**
1. Корзина покупок
2. Страница создания заказа
3. Интеграция с Backend API
4. История заказов
5. Детали заказа
6. Статусы заказов

---

## Параллельная разработка

**Возможна параллельная работа:**
- ✅ UI/UX дизайн может быть готов заранее
- ✅ Корзина может разрабатываться параллельно с историей

**Не может быть параллельной:**
- ❌ Нужна интеграция с Epic 5, 9, 10
- ❌ Epic 12 (Payments) не может начаться без этого

---

## Критерии готовности (Definition of Done)

- [ ] Корзина покупок работает
- [ ] Создание заказа работает
- [ ] История заказов работает
- [ ] Детали заказа работают
- [ ] Статусы заказов отображаются
- [ ] Responsive дизайн
- [ ] Тестирование пройдено
- [ ] Code review пройден

---

## User Stories (примеры)

1. **Как Client**, я хочу добавить услугу в корзину, чтобы заказать ее
2. **Как Client**, я хочу создать заказ, чтобы получить услугу
3. **Как Client**, я хочу видеть историю моих заказов
4. **Как Client**, я хочу видеть статус моего заказа

---

## Технические детали

**Технологии:**
- Next.js 14
- TypeScript
- Tailwind CSS
- React Query / SWR
- Context API (для корзины)

**Страницы:**
- `/cart` - Корзина покупок
- `/orders` - История заказов
- `/orders/:id` - Детали заказа
- `/orders/create` - Создание заказа

**API Integration:**
- `POST /orders` - Создание заказа
- `GET /orders` - Список заказов
- `GET /orders/:id` - Детали заказа
- `PATCH /orders/:id/status` - Обновление статуса (если возможно)

---

## Риски и митигация

**Риски:**
- Сложность корзины и состояния
- Интеграция с платежами

**Митигация:**
- Использование Context API или state management
- Четкая интеграция с Epic 12

---

## Примечания

Критичный эпик для MVP. Блокирует платежи.

