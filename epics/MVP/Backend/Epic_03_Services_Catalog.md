# Epic 3: Services Catalog (MVP)

**Phase:** MVP  
**Portal:** Backend  
**Module:** ServicesModule  
**Epic ID:** E-003

---

## Описание

Каталог услуг и товаров на платформе. Включает CRUD операции для услуг, публичный каталог с пагинацией и базовый поиск по названию.

---

## Функциональность

- Создание услуг/товаров (Vendor)
- CRUD операции для услуг
- Публичный каталог услуг
- Пагинация результатов
- Базовый поиск по названию
- Фильтрация по категориям (базовая)
- Детальные страницы услуг

**Исключено из MVP:**
- Геопоиск (PostGIS)
- Продвинутые фильтры
- Полнотекстовый поиск
- Сортировка по рейтингам

---

## Зависимости

**Предшествующие эпики:**
- ✅ Epic 1: Authentication & Authorization (MUST)
- ✅ Epic 2: Vendors Management (MUST)

**Требует завершения:**
- Epic 1 должен быть завершен (Auth)
- Epic 2 должен быть завершен (Vendors должны быть APPROVED)

**Блокирует:**
- Epic 4: Categories (услуги связаны с категориями)
- Epic 5: Orders (заказы создаются на основе услуг)
- Epic 10: Client App - Catalog
- Epic 14: Vendor Portal - Services Management

---

## Приоритет (MoSCoW)

**Must Have** - Критичный для MVP

Каталог услуг - это ядро платформы. Без него клиенты не могут найти и заказать услуги.

---

## Story Points

**Оценка:** 13 points

**Обоснование:**
- CRUD операции: 3 points
- Публичный каталог: 3 points
- Пагинация: 2 points
- Базовый поиск: 2 points
- Фильтрация по категориям: 2 points
- Валидация: 1 point

---

## Последовательность разработки

**Порядок:** 3 (после Epic 1 и Epic 2)

**Последовательность:**
1. Создание ServicesModule
2. CRUD операции
3. Публичный каталог
4. Пагинация
5. Базовый поиск
6. Фильтрация по категориям
7. Интеграция с VendorsModule

---

## Параллельная разработка

**Возможна параллельная работа:**
- ✅ Frontend команда может начать работу над Client App Catalog UI после определения API
- ✅ Можно работать параллельно над пагинацией и поиском
- ✅ Epic 4 (Categories) может разрабатываться параллельно, но интеграция будет позже

**Не может быть параллельной:**
- ❌ Epic 5 (Orders) не может начаться без этого эпика
- ❌ Frontend не может интегрироваться без готового API

---

## Критерии готовности (Definition of Done)

- [ ] CRUD операции работают
- [ ] Публичный каталог работает
- [ ] Пагинация работает
- [ ] Базовый поиск работает
- [ ] Фильтрация по категориям работает
- [ ] Валидация данных работает
- [ ] Только APPROVED поставщики могут создавать услуги
- [ ] Unit тесты написаны (покрытие > 80%)
- [ ] API документация обновлена
- [ ] Code review пройден

---

## User Stories (примеры)

1. **Как Vendor**, я хочу создать услугу, чтобы клиенты могли ее найти
2. **Как Client**, я хочу просмотреть каталог услуг, чтобы найти нужную услугу
3. **Как Client**, я хочу искать услуги по названию, чтобы быстро найти нужное
4. **Как система**, я должна показывать только услуги одобренных поставщиков

---

## Технические детали

**Технологии:**
- NestJS
- Prisma ORM
- PostgreSQL

**API Endpoints:**
- `POST /services` - Создание услуги (Vendor)
- `GET /services` - Публичный каталог (с пагинацией и фильтрами)
- `GET /services/my` - Мои услуги (Vendor)
- `GET /services/:id` - Детали услуги
- `PATCH /services/:id` - Обновление услуги (Vendor)
- `DELETE /services/:id` - Удаление услуги (Vendor)

**Database:**
- Service model (Prisma)
- Связь с VendorProfile
- Связь с Category (после Epic 4)

---

## Риски и митигация

**Риски:**
- Производительность при большом количестве услуг
- Сложность поиска и фильтрации

**Митигация:**
- Индексы в базе данных
- Оптимизация запросов
- Пагинация с самого начала

---

## Примечания

Критичный эпик для MVP. Это основа для заказов и основной функционал платформы.

