# Epic 7: Admin Panel (MVP)

**Phase:** MVP  
**Portal:** Backend  
**Module:** AdminModule  
**Epic ID:** E-007

---

## Описание

Административная панель для управления платформой. Включает модерацию поставщиков и услуг, а также базовую статистику.

---

## Функциональность

- Модерация поставщиков (одобрение/отклонение)
- Модерация услуг (одобрение/отклонение)
- Базовая статистика платформы
- Управление пользователями (базовое)
- Просмотр логов (базовый)

**Исключено из MVP:**
- Расширенная аналитика
- Сложные отчеты
- Управление категориями (может быть в Epic 4)
- Advanced user management

---

## Зависимости

**Предшествующие эпики:**
- ✅ Epic 1: Authentication & Authorization (MUST)
- ✅ Epic 2: Vendors Management (MUST)
- ✅ Epic 3: Services Catalog (MUST)

**Требует завершения:**
- Epic 1 должен быть завершен (Auth для Admin роли)
- Epic 2 должен быть завершен (Vendors для модерации)
- Epic 3 должен быть завершен (Services для модерации)

**Блокирует:**
- Epic 17: Admin Portal - Moderation
- Epic 18: Admin Portal - Dashboard

---

## Приоритет (MoSCoW)

**Should Have** - Важный для MVP

Админ панель нужна для модерации контента, но платформа может работать и без расширенной статистики на старте.

---

## Story Points

**Оценка:** 8 points

**Обоснование:**
- Модерация поставщиков: 2 points
- Модерация услуг: 2 points
- Базовая статистика: 2 points
- Управление пользователями: 1 point
- Логи: 1 point

---

## Последовательность разработки

**Порядок:** 7 (после Epic 1, 2, 3)

**Последовательность:**
1. Создание AdminModule
2. Модерация поставщиков
3. Модерация услуг
4. Базовая статистика
5. Управление пользователями
6. Интеграция с другими модулями

---

## Параллельная разработка

**Возможна параллельная работа:**
- ✅ Frontend команда может начать работу над Admin Portal UI после определения API
- ✅ Статистика может разрабатываться параллельно с модерацией

**Не может быть параллельной:**
- ❌ Нужна интеграция с Epic 2 и Epic 3
- ❌ Frontend не может интегрироваться без готового API

---

## Критерии готовности (Definition of Done)

- [ ] Модерация поставщиков работает
- [ ] Модерация услуг работает
- [ ] Базовая статистика работает
- [ ] Управление пользователями работает
- [ ] Логи доступны
- [ ] Только ADMIN роль имеет доступ
- [ ] Unit тесты написаны (покрытие > 80%)
- [ ] API документация обновлена
- [ ] Code review пройден

---

## User Stories (примеры)

1. **Как Admin**, я хочу модерировать поставщиков, чтобы контролировать качество
2. **Как Admin**, я хочу модерировать услуги, чтобы контролировать контент
3. **Как Admin**, я хочу видеть базовую статистику платформы
4. **Как Admin**, я хочу управлять пользователями

---

## Технические детали

**Технологии:**
- NestJS
- Prisma ORM
- LoggerModule

**API Endpoints:**
- `GET /admin/vendors` - Список поставщиков для модерации
- `PATCH /admin/vendors/:id/status` - Изменение статуса поставщика
- `GET /admin/services` - Список услуг для модерации
- `PATCH /admin/services/:id/status` - Изменение статуса услуги
- `GET /admin/stats` - Базовая статистика
- `GET /admin/users` - Список пользователей
- `GET /admin/logs` - Логи

**Database:**
- Использует существующие модели (Vendor, Service, User)
- Статистика через агрегатные запросы

---

## Риски и митигация

**Риски:**
- Производительность статистики при большом объеме данных
- Сложность модерации workflow

**Митигация:**
- Простая статистика на старте
- Оптимизация запросов
- Кэширование статистики (если нужно)

---

## Примечания

Важный эпик для MVP, но не критичный. Модерация может быть упрощена на старте.

