# Epic 4: Categories (MVP)

**Phase:** MVP  
**Portal:** Backend  
**Module:** CategoriesModule  
**Epic ID:** E-004

---

## Описание

Иерархия категорий для услуг. В MVP реализуется плоская структура категорий (без вложенности) с CRUD операциями и связями с услугами.

---

## Функциональность

- Создание категорий (Admin)
- CRUD операции для категорий
- Плоская структура категорий (без иерархии)
- Связи категорий с услугами
- Просмотр категорий в каталоге
- Фильтрация услуг по категориям

**Исключено из MVP:**
- Иерархическая структура категорий
- Подкатегории
- Сложная навигация по категориям

---

## Зависимости

**Предшествующие эпики:**
- ✅ Epic 1: Authentication & Authorization (MUST)
- ✅ Epic 3: Services Catalog (MUST)

**Требует завершения:**
- Epic 1 должен быть завершен (Auth)
- Epic 3 должен быть завершен (Services для связи)

**Блокирует:**
- Нет критичных блокировок (может быть добавлено позже)

---

## Приоритет (MoSCoW)

**Should Have** - Важный для MVP

Категории улучшают UX, но платформа может работать и без них на старте.

---

## Story Points

**Оценка:** 5 points

**Обоснование:**
- CRUD операции: 2 points
- Связи с услугами: 2 points
- Фильтрация: 1 point

---

## Последовательность разработки

**Порядок:** 4 (после Epic 3)

**Последовательность:**
1. Создание CategoriesModule
2. CRUD операции
3. Связи с услугами
4. Фильтрация по категориям
5. Интеграция с ServicesModule

---

## Параллельная разработка

**Возможна параллельная работа:**
- ✅ Может разрабатываться параллельно с Epic 5 (Orders), но интеграция с Services нужна
- ✅ Frontend может работать над UI категорий параллельно

**Не может быть параллельной:**
- ❌ Нужна интеграция с Epic 3 (Services)

---

## Критерии готовности (Definition of Done)

- [ ] CRUD операции работают
- [ ] Связи с услугами работают
- [ ] Фильтрация по категориям работает
- [ ] Валидация данных работает
- [ ] Unit тесты написаны (покрытие > 80%)
- [ ] API документация обновлена
- [ ] Code review пройден

---

## User Stories (примеры)

1. **Как Admin**, я хочу создать категории, чтобы организовать услуги
2. **Как Client**, я хочу фильтровать услуги по категориям, чтобы быстрее найти нужное
3. **Как Vendor**, я хочу выбрать категорию для моей услуги, чтобы клиенты могли ее найти

---

## Технические детали

**Технологии:**
- NestJS
- Prisma ORM
- PostgreSQL

**API Endpoints:**
- `POST /categories` - Создание категории (Admin)
- `GET /categories` - Список категорий
- `GET /categories/:id` - Детали категории
- `PATCH /categories/:id` - Обновление категории (Admin)
- `DELETE /categories/:id` - Удаление категории (Admin)

**Database:**
- Category model (Prisma)
- Связь many-to-many с Service

---

## Риски и митигация

**Риски:**
- Минимальные (простой модуль)

**Митигация:**
- Простая структура на старте

---

## Примечания

Может быть добавлено позже, если нужно ускорить MVP. Но рекомендуется включить для лучшего UX.

